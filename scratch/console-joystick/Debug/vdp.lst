Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED29-Oct-23     21:39:02     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optsize -noreduceopt -nopadbranch
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\vdp.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "NONAME0",8
                           A     9    .DEFINE "baudRate"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 4
                           A    13    .ENDEF
                           A    14    .DEFINE "dataBits"
                           A    15    .VALUE 3
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "stopBits"
                           A    20    .VALUE 4
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "parity"
                           A    25    .VALUE 5
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "flowcontrol"
                           A    30    .VALUE 6
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "eir"
                           A    35    .VALUE 7
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .ENDREC "NONAME0"
                           A    40    .BEGREC "NONAME1",15
                           A    41    .DEFINE "fs"
                           A    42    .VALUE 0
                           A    43    .CLASS 8
                           A    44    .TYPE 46
                           A    45    .ENDEF
                           A    46    .DEFINE "id"
                           A    47    .VALUE 3
                           A    48    .CLASS 8
                           A    49    .TYPE 13
                           A    50    .ENDEF
                           A    51    .DEFINE "attr"
                           A    52    .VALUE 5
                           A    53    .CLASS 8
                           A    54    .TYPE 12
                           A    55    .ENDEF
                           A    56    .DEFINE "stat"
                           A    57    .VALUE 6
                           A    58    .CLASS 8
                           A    59    .TYPE 12
                           A    60    .ENDEF
                           A    61    .DEFINE "sclust"
                           A    62    .VALUE 7
                           A    63    .CLASS 8
                           A    64    .TYPE 15
                           A    65    .ENDEF
                           A    66    .DEFINE "objsize"
                           A    67    .VALUE 11
                           A    68    .CLASS 8
                           A    69    .TYPE 15
                           A    70    .ENDEF
                           A    71    .ENDREC "NONAME1"
                           A    72    .BEGREC "NONAME2",36
                           A    73    .DEFINE "obj"
                           A    74    .VALUE 0
                           A    75    .CLASS 8
                           A    76    .TAG "NONAME1"
                           A    77    .TYPE 8
                           A    78    .ENDEF
                           A    79    .DEFINE "flag"
                           A    80    .VALUE 15
                           A    81    .CLASS 8
                           A    82    .TYPE 12
                           A    83    .ENDEF
                           A    84    .DEFINE "err"
                           A    85    .VALUE 16
                           A    86    .CLASS 8
                           A    87    .TYPE 12
                           A    88    .ENDEF
                           A    89    .DEFINE "fptr"
                           A    90    .VALUE 17
                           A    91    .CLASS 8
                           A    92    .TYPE 15
                           A    93    .ENDEF
                           A    94    .DEFINE "clust"
                           A    95    .VALUE 21
                           A    96    .CLASS 8
                           A    97    .TYPE 15
                           A    98    .ENDEF
                           A    99    .DEFINE "sect"
                           A   100    .VALUE 25
                           A   101    .CLASS 8
                           A   102    .TYPE 15
                           A   103    .ENDEF
                           A   104    .DEFINE "dir_sect"
                           A   105    .VALUE 29
                           A   106    .CLASS 8
                           A   107    .TYPE 15
                           A   108    .ENDEF
                           A   109    .DEFINE "dir_ptr"
                           A   110    .VALUE 33
                           A   111    .CLASS 8
                           A   112    .TYPE 46
                           A   113    .ENDEF
                           A   114    .ENDREC "NONAME2"
                           A   115    ;    1	#include <defines.h>
                           A   116    ;    2	#include "vdp.h"
                           A   117    ;    3	#include "mos-interface.h"
                           A   118    ;    4	
                           A   119    ;    5	// Generic functions
                           A   120    ;    6	
                           A   121    ;    7	void write16bit(UINT16 w)
                           A   122    ;    8	{
040480                     A   123    _write16bit:
                           A   124    .DEFINE "_write16bit"
                           A   125    
                           A   126    .VALUE _write16bit
                           A   127    
                           A   128    .CLASS 2
                           A   129    
                           A   130    .TYPE 65
                           A   131    
                           A   132    .ENDEF
                           A   133    
                           A   134    .BEGFUNC "write16bit",8,"_write16bit"
                           A   135    
                           A   136    .LINE 8
                           A   137    
                           A   138    .DEFINE "w"
                           A   139    
                           A   140    .CLASS 65
                           A   141    
                           A   142    .VALUE 6
                           A   143    
                           A   144    .TYPE 13
                           A   145    
                           A   146    .ENDEF
                           A   147    
040480 DDE5                A   148    	PUSH	IX
040482 DD210000 00         A   149    	LD	IX,0
040487 DD39                A   150    	ADD	IX,SP
                           A   151    ;    9		putch(w & 0xFF); // write LSB
                           A   152    .LINE 9
                           A   153    
040489 DD0706              A   154    	LD	BC,(IX+%6)
04048C CD 91 16 04         A   155    	CALL	__stoiu
040490 7D                  A   156    	LD	A,L
040491 B7ED62              A   157    	UEXT	HL
040494 6F                  A   158    	LD	L,A
040495 E5                  A   159    	PUSH	HL
040496 CD BB 0F 04         A   160    	CALL	_putch
04049A C1                  A   161    	POP	BC
                           A   162    ;   10		putch(w >> 8);	 // write MSB	
                           A   163    .LINE 10
                           A   164    
04049B DD0706              A   165    	LD	BC,(IX+%6)
04049E CD 91 16 04         A   166    	CALL	__stoiu
0404A2 3E08                A   167    	LD	A,%8
0404A4 CD E6 14 04         A   168    	CALL	__ishrs_b
0404A8 E5                  A   169    	PUSH	HL
0404A9 CD BB 0F 04         A   170    	CALL	_putch
0404AD C1                  A   171    	POP	BC
                           A   172    ;   11	}
                           A   173    .LINE 11
                           A   174    
0404AE DDF9                A   175    	LD	SP,IX
0404B0 DDE1                A   176    	POP	IX
0404B2 C9                  A   177    	RET	
                           A   178    
                           A   179    
                           A   180    ;**************************** _write16bit *****
                           A   181    ;Name                         Addr/Register   S
                           A   182    ;_putch                              IMPORT  --
                           A   183    ;w                                     IX+6    
                           A   184    
                           A   185    
                           A   186    ; Stack Frame Size: 9 (bytes)
                           A   187    ;       Spill Code: 0 (instruction)
                           A   188    
                           A   189    
                           A   190    .ENDFUNC "write16bit",11,"_write16bit"
                           A   191    ;   12	
                           A   192    ;   13	void write32bit(UINT32 l)
                           A   193    ;   14	{
0404B3                     A   194    _write32bit:
                           A   195    .DEFINE "_write32bit"
                           A   196    
                           A   197    .VALUE _write32bit
                           A   198    
                           A   199    .CLASS 2
                           A   200    
                           A   201    .TYPE 65
                           A   202    
                           A   203    .ENDEF
                           A   204    
                           A   205    .BEGFUNC "write32bit",14,"_write32bit"
                           A   206    
                           A   207    .LINE 14
                           A   208    
                           A   209    .DEFINE "l"
                           A   210    
                           A   211    .CLASS 65
                           A   212    
                           A   213    .VALUE 6
                           A   214    
                           A   215    .TYPE 15
                           A   216    
                           A   217    .ENDEF
                           A   218    
                           A   219    .DEFINE "temp"
                           A   220    
                           A   221    .CLASS 65
                           A   222    
                           A   223    .VALUE -4
                           A   224    
                           A   225    .TYPE 15
                           A   226    
                           A   227    .ENDEF
                           A   228    
0404B3 DDE5                A   229    	PUSH	IX
0404B5 DD210000 00         A   230    	LD	IX,0
0404BA DD39                A   231    	ADD	IX,SP
0404BC C5                  A   232    	PUSH	BC
0404BD 3B                  A   233    	DEC	SP
                           A   234    ;   15		UINT32 temp = l;
                           A   235    ;   16		
                           A   236    ;   17		putch(temp & 0xFF); // write LSB
                           A   237    .LINE 17
                           A   238    
0404BE DD2706              A   239    	LD	HL,(IX+%6)
0404C1 7D                  A   240    	LD	A,L
0404C2 B7ED62              A   241    	UEXT	HL
0404C5 6F                  A   242    	LD	L,A
0404C6 E5                  A   243    	PUSH	HL
0404C7 CD BB 0F 04         A   244    	CALL	_putch
0404CB C1                  A   245    	POP	BC
                           A   246    ;   18		temp = temp >> 8;
                           A   247    .LINE 18
                           A   248    
0404CC DD0706              A   249    	LD	BC,(IX+%6)
0404CF DD7E09              A   250    	LD	A,(IX+%9)
0404D2 2E08                A   251    	LD	L,%8
0404D4 CD 59 1A 04         A   252    	CALL	__lshru
0404D8 DD0FFC              A   253    	LD	(IX+%FFFFFFFC),BC
0404DB DD77FF              A   254    	LD	(IX+%FFFFFFFF),A
                           A   255    ;   19		putch(temp & 0xFF);
                           A   256    .LINE 19
                           A   257    
0404DE C5E1                A   258    	LD	HL,BC
0404E0 7D                  A   259    	LD	A,L
0404E1 B7ED62              A   260    	UEXT	HL
0404E4 6F                  A   261    	LD	L,A
0404E5 E5                  A   262    	PUSH	HL
0404E6 CD BB 0F 04         A   263    	CALL	_putch
0404EA C1                  A   264    	POP	BC
                           A   265    ;   20		temp = temp >> 8;
                           A   266    .LINE 20
                           A   267    
0404EB DD07FC              A   268    	LD	BC,(IX+%FFFFFFFC)
0404EE DD7EFF              A   269    	LD	A,(IX+%FFFFFFFF)
0404F1 2E08                A   270    	LD	L,%8
0404F3 CD 59 1A 04         A   271    	CALL	__lshru
0404F7 DD0FFC              A   272    	LD	(IX+%FFFFFFFC),BC
0404FA DD77FF              A   273    	LD	(IX+%FFFFFFFF),A
                           A   274    ;   21		putch(temp & 0xFF);
                           A   275    .LINE 21
                           A   276    
0404FD C5E1                A   277    	LD	HL,BC
0404FF 7D                  A   278    	LD	A,L
040500 B7ED62              A   279    	UEXT	HL
040503 6F                  A   280    	LD	L,A
040504 E5                  A   281    	PUSH	HL
040505 CD BB 0F 04         A   282    	CALL	_putch
040509 C1                  A   283    	POP	BC
                           A   284    ;   22		temp = temp >> 8;
                           A   285    .LINE 22
                           A   286    
04050A DD07FC              A   287    	LD	BC,(IX+%FFFFFFFC)
04050D DD7EFF              A   288    	LD	A,(IX+%FFFFFFFF)
040510 2E08                A   289    	LD	L,%8
040512 CD 59 1A 04         A   290    	CALL	__lshru
040516 DD0FFC              A   291    	LD	(IX+%FFFFFFFC),BC
040519 DD77FF              A   292    	LD	(IX+%FFFFFFFF),A
                           A   293    ;   23		putch(temp & 0xFF);
                           A   294    .LINE 23
                           A   295    
04051C C5E1                A   296    	LD	HL,BC
04051E 7D                  A   297    	LD	A,L
04051F B7ED62              A   298    	UEXT	HL
040522 6F                  A   299    	LD	L,A
040523 E5                  A   300    	PUSH	HL
040524 CD BB 0F 04         A   301    	CALL	_putch
040528 C1                  A   302    	POP	BC
                           A   303    ;   24		return;	
                           A   304    ;   25	}
                           A   305    .LINE 25
                           A   306    
040529 DDF9                A   307    	LD	SP,IX
04052B DDE1                A   308    	POP	IX
04052D C9                  A   309    	RET	
                           A   310    
                           A   311    
                           A   312    ;**************************** _write32bit *****
                           A   313    ;Name                         Addr/Register   S
                           A   314    ;_putch                              IMPORT  --
                           A   315    ;temp                                  IX-4    
                           A   316    ;l                                     IX+6    
                           A   317    
                           A   318    
                           A   319    ; Stack Frame Size: 16 (bytes)
                           A   320    ;       Spill Code: 0 (instruction)
                           A   321    
                           A   322    
                           A   323    .ENDFUNC "write32bit",25,"_write32bit"
                           A   324    ;   26	
                           A   325    ;   27	void vdp_mode(unsigned char mode)
                           A   326    ;   28	{
04052E                     A   327    _vdp_mode:
                           A   328    .DEFINE "_vdp_mode"
                           A   329    
                           A   330    .VALUE _vdp_mode
                           A   331    
                           A   332    .CLASS 2
                           A   333    
                           A   334    .TYPE 65
                           A   335    
                           A   336    .ENDEF
                           A   337    
                           A   338    .BEGFUNC "vdp_mode",28,"_vdp_mode"
                           A   339    
                           A   340    .LINE 28
                           A   341    
                           A   342    .DEFINE "mode"
                           A   343    
                           A   344    .CLASS 65
                           A   345    
                           A   346    .VALUE 6
                           A   347    
                           A   348    .TYPE 12
                           A   349    
                           A   350    .ENDEF
                           A   351    
04052E DDE5                A   352    	PUSH	IX
040530 DD210000 00         A   353    	LD	IX,0
040535 DD39                A   354    	ADD	IX,SP
                           A   355    ;   29	    putch(22);
                           A   356    .LINE 29
                           A   357    
040537 01160000            A   358    	LD	BC,22
04053B C5                  A   359    	PUSH	BC
04053C CD BB 0F 04         A   360    	CALL	_putch
040540 C1                  A   361    	POP	BC
                           A   362    ;   30	    putch(mode);
                           A   363    .LINE 30
                           A   364    
040541 DD7E06              A   365    	LD	A,(IX+%6)
040544 B7ED62              A   366    	UEXT	HL
040547 6F                  A   367    	LD	L,A
040548 E5                  A   368    	PUSH	HL
040549 CD BB 0F 04         A   369    	CALL	_putch
04054D C1                  A   370    	POP	BC
                           A   371    ;   31	}
                           A   372    .LINE 31
                           A   373    
04054E DDF9                A   374    	LD	SP,IX
040550 DDE1                A   375    	POP	IX
040552 C9                  A   376    	RET	
                           A   377    
                           A   378    
                           A   379    ;**************************** _vdp_mode *******
                           A   380    ;Name                         Addr/Register   S
                           A   381    ;_putch                              IMPORT  --
                           A   382    ;mode                                  IX+6    
                           A   383    
                           A   384    
                           A   385    ; Stack Frame Size: 9 (bytes)
                           A   386    ;       Spill Code: 0 (instruction)
                           A   387    
                           A   388    
                           A   389    .ENDFUNC "vdp_mode",31,"_vdp_mode"
                           A   390    ;   32	
                           A   391    ;   33	void vdp_getMode(void) {
040553                     A   392    _vdp_getMode:
                           A   393    .DEFINE "_vdp_getMode"
                           A   394    
                           A   395    .VALUE _vdp_getMode
                           A   396    
                           A   397    .CLASS 2
                           A   398    
                           A   399    .TYPE 65
                           A   400    
                           A   401    .ENDEF
                           A   402    
                           A   403    .BEGFUNC "vdp_getMode",33,"_vdp_getMode"
                           A   404    
040553 DDE5                A   405    	PUSH	IX
040555 DD210000 00         A   406    	LD	IX,0
04055A DD39                A   407    	ADD	IX,SP
                           A   408    ;   34		putch(23);
                           A   409    .LINE 34
                           A   410    
04055C 01170000            A   411    	LD	BC,23
040560 C5                  A   412    	PUSH	BC
040561 CD BB 0F 04         A   413    	CALL	_putch
040565 C1                  A   414    	POP	BC
                           A   415    ;   35		putch(0);
                           A   416    .LINE 35
                           A   417    
040566 01000000            A   418    	LD	BC,0
04056A C5                  A   419    	PUSH	BC
04056B CD BB 0F 04         A   420    	CALL	_putch
04056F C1                  A   421    	POP	BC
                           A   422    ;   36		putch(0x86);
                           A   423    .LINE 36
                           A   424    
040570 01860000            A   425    	LD	BC,134
040574 C5                  A   426    	PUSH	BC
040575 CD BB 0F 04         A   427    	CALL	_putch
040579 C1                  A   428    	POP	BC
                           A   429    ;   37	}
                           A   430    .LINE 37
                           A   431    
04057A DDF9                A   432    	LD	SP,IX
04057C DDE1                A   433    	POP	IX
04057E C9                  A   434    	RET	
                           A   435    
                           A   436    
                           A   437    ;**************************** _vdp_getMode ****
                           A   438    ;Name                         Addr/Register   S
                           A   439    ;_putch                              IMPORT  --
                           A   440    
                           A   441    
                           A   442    ; Stack Frame Size: 6 (bytes)
                           A   443    ;       Spill Code: 0 (instruction)
                           A   444    
                           A   445    
                           A   446    .ENDFUNC "vdp_getMode",37,"_vdp_getMode"
                           A   447    ;   38	
                           A   448    ;   39	void vdp_setPaletteColor(UINT8 index, U
04057F                     A   449    _vdp_setPaletteColor:
                           A   450    .DEFINE "_vdp_setPaletteColor"
                           A   451    
                           A   452    .VALUE _vdp_setPaletteColor
                           A   453    
                           A   454    .CLASS 2
                           A   455    
                           A   456    .TYPE 65
                           A   457    
                           A   458    .ENDEF
                           A   459    
                           A   460    .BEGFUNC "vdp_setPaletteColor",39,"_vdp_setPale
                           A   461    
                           A   462    .LINE 39
                           A   463    
                           A   464    .DEFINE "index"
                           A   465    
                           A   466    .CLASS 65
                           A   467    
                           A   468    .VALUE 6
                           A   469    
                           A   470    .TYPE 12
                           A   471    
                           A   472    .ENDEF
                           A   473    
                           A   474    .DEFINE "color"
                           A   475    
                           A   476    .CLASS 65
                           A   477    
                           A   478    .VALUE 9
                           A   479    
                           A   480    .TYPE 12
                           A   481    
                           A   482    .ENDEF
                           A   483    
                           A   484    .DEFINE "r"
                           A   485    
                           A   486    .CLASS 65
                           A   487    
                           A   488    .VALUE 12
                           A   489    
                           A   490    .TYPE 12
                           A   491    
                           A   492    .ENDEF
                           A   493    
                           A   494    .DEFINE "g"
                           A   495    
                           A   496    .CLASS 65
                           A   497    
                           A   498    .VALUE 15
                           A   499    
                           A   500    .TYPE 12
                           A   501    
                           A   502    .ENDEF
                           A   503    
                           A   504    .DEFINE "b"
                           A   505    
                           A   506    .CLASS 65
                           A   507    
                           A   508    .VALUE 18
                           A   509    
                           A   510    .TYPE 12
                           A   511    
                           A   512    .ENDEF
                           A   513    
04057F DDE5                A   514    	PUSH	IX
040581 DD210000 00         A   515    	LD	IX,0
040586 DD39                A   516    	ADD	IX,SP
                           A   517    ;   40		putch(0x13); // VDU palette
                           A   518    .LINE 40
                           A   519    
040588 01130000            A   520    	LD	BC,19
04058C C5                  A   521    	PUSH	BC
04058D CD BB 0F 04         A   522    	CALL	_putch
040591 C1                  A   523    	POP	BC
                           A   524    ;   41		putch(index);
                           A   525    .LINE 41
                           A   526    
040592 DD7E06              A   527    	LD	A,(IX+%6)
040595 B7ED62              A   528    	UEXT	HL
040598 6F                  A   529    	LD	L,A
040599 E5                  A   530    	PUSH	HL
04059A CD BB 0F 04         A   531    	CALL	_putch
04059E C1                  A   532    	POP	BC
                           A   533    ;   42		putch(color); // 255 - set R/G/B co
                           A   534    .LINE 42
                           A   535    
04059F DD7E09              A   536    	LD	A,(IX+%9)
0405A2 B7ED62              A   537    	UEXT	HL
0405A5 6F                  A   538    	LD	L,A
0405A6 E5                  A   539    	PUSH	HL
0405A7 CD BB 0F 04         A   540    	CALL	_putch
0405AB C1                  A   541    	POP	BC
                           A   542    ;   43		putch(r);
                           A   543    .LINE 43
                           A   544    
0405AC DD7E0C              A   545    	LD	A,(IX+%C)
0405AF B7ED62              A   546    	UEXT	HL
0405B2 6F                  A   547    	LD	L,A
0405B3 E5                  A   548    	PUSH	HL
0405B4 CD BB 0F 04         A   549    	CALL	_putch
0405B8 C1                  A   550    	POP	BC
                           A   551    ;   44		putch(g);
                           A   552    .LINE 44
                           A   553    
0405B9 DD7E0F              A   554    	LD	A,(IX+%F)
0405BC B7ED62              A   555    	UEXT	HL
0405BF 6F                  A   556    	LD	L,A
0405C0 E5                  A   557    	PUSH	HL
0405C1 CD BB 0F 04         A   558    	CALL	_putch
0405C5 C1                  A   559    	POP	BC
                           A   560    ;   45		putch(b);
                           A   561    .LINE 45
                           A   562    
0405C6 DD7E12              A   563    	LD	A,(IX+%12)
0405C9 B7ED62              A   564    	UEXT	HL
0405CC 6F                  A   565    	LD	L,A
0405CD E5                  A   566    	PUSH	HL
0405CE CD BB 0F 04         A   567    	CALL	_putch
0405D2 C1                  A   568    	POP	BC
                           A   569    ;   46	}
                           A   570    .LINE 46
                           A   571    
0405D3 DDF9                A   572    	LD	SP,IX
0405D5 DDE1                A   573    	POP	IX
0405D7 C9                  A   574    	RET	
                           A   575    
                           A   576    
                           A   577    ;**************************** _vdp_setPaletteCo
                           A   578    ;Name                         Addr/Register   S
                           A   579    ;_putch                              IMPORT  --
                           A   580    ;b                                    IX+18    
                           A   581    ;g                                    IX+15    
                           A   582    ;r                                    IX+12    
                           A   583    ;color                                 IX+9    
                           A   584    ;index                                 IX+6    
                           A   585    
                           A   586    
                           A   587    ; Stack Frame Size: 21 (bytes)
                           A   588    ;       Spill Code: 0 (instruction)
                           A   589    
                           A   590    
                           A   591    .ENDFUNC "vdp_setPaletteColor",46,"_vdp_setPale
                           A   592    ;   47	
                           A   593    ;   48	// Text functions
                           A   594    ;   49	void vdp_cls()
                           A   595    ;   50	{
0405D8                     A   596    _vdp_cls:
                           A   597    .DEFINE "_vdp_cls"
                           A   598    
                           A   599    .VALUE _vdp_cls
                           A   600    
                           A   601    .CLASS 2
                           A   602    
                           A   603    .TYPE 65
                           A   604    
                           A   605    .ENDEF
                           A   606    
                           A   607    .BEGFUNC "vdp_cls",50,"_vdp_cls"
                           A   608    
0405D8 DDE5                A   609    	PUSH	IX
0405DA DD210000 00         A   610    	LD	IX,0
0405DF DD39                A   611    	ADD	IX,SP
                           A   612    ;   51	    putch(12);
                           A   613    .LINE 51
                           A   614    
0405E1 010C0000            A   615    	LD	BC,12
0405E5 C5                  A   616    	PUSH	BC
0405E6 CD BB 0F 04         A   617    	CALL	_putch
0405EA C1                  A   618    	POP	BC
                           A   619    ;   52	}
                           A   620    .LINE 52
                           A   621    
0405EB DDF9                A   622    	LD	SP,IX
0405ED DDE1                A   623    	POP	IX
0405EF C9                  A   624    	RET	
                           A   625    
                           A   626    
                           A   627    ;**************************** _vdp_cls ********
                           A   628    ;Name                         Addr/Register   S
                           A   629    ;_putch                              IMPORT  --
                           A   630    
                           A   631    
                           A   632    ; Stack Frame Size: 6 (bytes)
                           A   633    ;       Spill Code: 0 (instruction)
                           A   634    
                           A   635    
                           A   636    .ENDFUNC "vdp_cls",52,"_vdp_cls"
                           A   637    ;   53	
                           A   638    ;   54	void vdp_cursorHome()
                           A   639    ;   55	{
0405F0                     A   640    _vdp_cursorHome:
                           A   641    .DEFINE "_vdp_cursorHome"
                           A   642    
                           A   643    .VALUE _vdp_cursorHome
                           A   644    
                           A   645    .CLASS 2
                           A   646    
                           A   647    .TYPE 65
                           A   648    
                           A   649    .ENDEF
                           A   650    
                           A   651    .BEGFUNC "vdp_cursorHome",55,"_vdp_cursorHome"
                           A   652    
0405F0 DDE5                A   653    	PUSH	IX
0405F2 DD210000 00         A   654    	LD	IX,0
0405F7 DD39                A   655    	ADD	IX,SP
                           A   656    ;   56	    putch(30);
                           A   657    .LINE 56
                           A   658    
0405F9 011E0000            A   659    	LD	BC,30
0405FD C5                  A   660    	PUSH	BC
0405FE CD BB 0F 04         A   661    	CALL	_putch
040602 C1                  A   662    	POP	BC
                           A   663    ;   57	}
                           A   664    .LINE 57
                           A   665    
040603 DDF9                A   666    	LD	SP,IX
040605 DDE1                A   667    	POP	IX
040607 C9                  A   668    	RET	
                           A   669    
                           A   670    
                           A   671    ;**************************** _vdp_cursorHome *
                           A   672    ;Name                         Addr/Register   S
                           A   673    ;_putch                              IMPORT  --
                           A   674    
                           A   675    
                           A   676    ; Stack Frame Size: 6 (bytes)
                           A   677    ;       Spill Code: 0 (instruction)
                           A   678    
                           A   679    
                           A   680    .ENDFUNC "vdp_cursorHome",57,"_vdp_cursorHome"
                           A   681    ;   58	
                           A   682    ;   59	void vdp_cursorUp()
                           A   683    ;   60	{
040608                     A   684    _vdp_cursorUp:
                           A   685    .DEFINE "_vdp_cursorUp"
                           A   686    
                           A   687    .VALUE _vdp_cursorUp
                           A   688    
                           A   689    .CLASS 2
                           A   690    
                           A   691    .TYPE 65
                           A   692    
                           A   693    .ENDEF
                           A   694    
                           A   695    .BEGFUNC "vdp_cursorUp",60,"_vdp_cursorUp"
                           A   696    
040608 DDE5                A   697    	PUSH	IX
04060A DD210000 00         A   698    	LD	IX,0
04060F DD39                A   699    	ADD	IX,SP
                           A   700    ;   61	    putch(11);
                           A   701    .LINE 61
                           A   702    
040611 010B0000            A   703    	LD	BC,11
040615 C5                  A   704    	PUSH	BC
040616 CD BB 0F 04         A   705    	CALL	_putch
04061A C1                  A   706    	POP	BC
                           A   707    ;   62	}
                           A   708    .LINE 62
                           A   709    
04061B DDF9                A   710    	LD	SP,IX
04061D DDE1                A   711    	POP	IX
04061F C9                  A   712    	RET	
                           A   713    
                           A   714    
                           A   715    ;**************************** _vdp_cursorUp ***
                           A   716    ;Name                         Addr/Register   S
                           A   717    ;_putch                              IMPORT  --
                           A   718    
                           A   719    
                           A   720    ; Stack Frame Size: 6 (bytes)
                           A   721    ;       Spill Code: 0 (instruction)
                           A   722    
                           A   723    
                           A   724    .ENDFUNC "vdp_cursorUp",62,"_vdp_cursorUp"
                           A   725    ;   63	
                           A   726    ;   64	void vdp_cursorGoto(unsigned char x, un
                           A   727    ;   65	{
040620                     A   728    _vdp_cursorGoto:
                           A   729    .DEFINE "_vdp_cursorGoto"
                           A   730    
                           A   731    .VALUE _vdp_cursorGoto
                           A   732    
                           A   733    .CLASS 2
                           A   734    
                           A   735    .TYPE 65
                           A   736    
                           A   737    .ENDEF
                           A   738    
                           A   739    .BEGFUNC "vdp_cursorGoto",65,"_vdp_cursorGoto"
                           A   740    
                           A   741    .LINE 65
                           A   742    
                           A   743    .DEFINE "x"
                           A   744    
                           A   745    .CLASS 65
                           A   746    
                           A   747    .VALUE 6
                           A   748    
                           A   749    .TYPE 12
                           A   750    
                           A   751    .ENDEF
                           A   752    
                           A   753    .DEFINE "y"
                           A   754    
                           A   755    .CLASS 65
                           A   756    
                           A   757    .VALUE 9
                           A   758    
                           A   759    .TYPE 12
                           A   760    
                           A   761    .ENDEF
                           A   762    
040620 DDE5                A   763    	PUSH	IX
040622 DD210000 00         A   764    	LD	IX,0
040627 DD39                A   765    	ADD	IX,SP
                           A   766    ;   66	    putch(31); // TAB
                           A   767    .LINE 66
                           A   768    
040629 011F0000            A   769    	LD	BC,31
04062D C5                  A   770    	PUSH	BC
04062E CD BB 0F 04         A   771    	CALL	_putch
040632 C1                  A   772    	POP	BC
                           A   773    ;   67	    putch(x);
                           A   774    .LINE 67
                           A   775    
040633 DD7E06              A   776    	LD	A,(IX+%6)
040636 B7ED62              A   777    	UEXT	HL
040639 6F                  A   778    	LD	L,A
04063A E5                  A   779    	PUSH	HL
04063B CD BB 0F 04         A   780    	CALL	_putch
04063F C1                  A   781    	POP	BC
                           A   782    ;   68	    putch(y);
                           A   783    .LINE 68
                           A   784    
040640 DD7E09              A   785    	LD	A,(IX+%9)
040643 B7ED62              A   786    	UEXT	HL
040646 6F                  A   787    	LD	L,A
040647 E5                  A   788    	PUSH	HL
040648 CD BB 0F 04         A   789    	CALL	_putch
04064C C1                  A   790    	POP	BC
                           A   791    ;   69	}
                           A   792    .LINE 69
                           A   793    
04064D DDF9                A   794    	LD	SP,IX
04064F DDE1                A   795    	POP	IX
040651 C9                  A   796    	RET	
                           A   797    
                           A   798    
                           A   799    ;**************************** _vdp_cursorGoto *
                           A   800    ;Name                         Addr/Register   S
                           A   801    ;_putch                              IMPORT  --
                           A   802    ;y                                     IX+9    
                           A   803    ;x                                     IX+6    
                           A   804    
                           A   805    
                           A   806    ; Stack Frame Size: 12 (bytes)
                           A   807    ;       Spill Code: 0 (instruction)
                           A   808    
                           A   809    
                           A   810    .ENDFUNC "vdp_cursorGoto",69,"_vdp_cursorGoto"
                           A   811    ;   70	
                           A   812    ;   71	void vdp_fgcolour(unsigned char colorin
040652                     A   813    _vdp_fgcolour:
                           A   814    .DEFINE "_vdp_fgcolour"
                           A   815    
                           A   816    .VALUE _vdp_fgcolour
                           A   817    
                           A   818    .CLASS 2
                           A   819    
                           A   820    .TYPE 65
                           A   821    
                           A   822    .ENDEF
                           A   823    
                           A   824    .BEGFUNC "vdp_fgcolour",71,"_vdp_fgcolour"
                           A   825    
                           A   826    .LINE 71
                           A   827    
                           A   828    .DEFINE "colorindex"
                           A   829    
                           A   830    .CLASS 65
                           A   831    
                           A   832    .VALUE 6
                           A   833    
                           A   834    .TYPE 12
                           A   835    
                           A   836    .ENDEF
                           A   837    
040652 DDE5                A   838    	PUSH	IX
040654 DD210000 00         A   839    	LD	IX,0
040659 DD39                A   840    	ADD	IX,SP
                           A   841    ;   72		putch(17); // COLOUR
                           A   842    .LINE 72
                           A   843    
04065B 01110000            A   844    	LD	BC,17
04065F C5                  A   845    	PUSH	BC
040660 CD BB 0F 04         A   846    	CALL	_putch
040664 C1                  A   847    	POP	BC
                           A   848    ;   73		putch(colorindex);	
                           A   849    .LINE 73
                           A   850    
040665 DD7E06              A   851    	LD	A,(IX+%6)
040668 B7ED62              A   852    	UEXT	HL
04066B 6F                  A   853    	LD	L,A
04066C E5                  A   854    	PUSH	HL
04066D CD BB 0F 04         A   855    	CALL	_putch
040671 C1                  A   856    	POP	BC
                           A   857    ;   74	}
                           A   858    .LINE 74
                           A   859    
040672 DDF9                A   860    	LD	SP,IX
040674 DDE1                A   861    	POP	IX
040676 C9                  A   862    	RET	
                           A   863    
                           A   864    
                           A   865    ;**************************** _vdp_fgcolour ***
                           A   866    ;Name                         Addr/Register   S
                           A   867    ;_putch                              IMPORT  --
                           A   868    ;colorindex                            IX+6    
                           A   869    
                           A   870    
                           A   871    ; Stack Frame Size: 9 (bytes)
                           A   872    ;       Spill Code: 0 (instruction)
                           A   873    
                           A   874    
                           A   875    .ENDFUNC "vdp_fgcolour",74,"_vdp_fgcolour"
                           A   876    ;   75	
                           A   877    ;   76	void vdp_bgcolour(unsigned char colorin
040677                     A   878    _vdp_bgcolour:
                           A   879    .DEFINE "_vdp_bgcolour"
                           A   880    
                           A   881    .VALUE _vdp_bgcolour
                           A   882    
                           A   883    .CLASS 2
                           A   884    
                           A   885    .TYPE 65
                           A   886    
                           A   887    .ENDEF
                           A   888    
                           A   889    .BEGFUNC "vdp_bgcolour",76,"_vdp_bgcolour"
                           A   890    
                           A   891    .LINE 76
                           A   892    
                           A   893    .DEFINE "colorindex"
                           A   894    
                           A   895    .CLASS 65
                           A   896    
                           A   897    .VALUE 6
                           A   898    
                           A   899    .TYPE 12
                           A   900    
                           A   901    .ENDEF
                           A   902    
040677 DDE5                A   903    	PUSH	IX
040679 DD210000 00         A   904    	LD	IX,0
04067E DD39                A   905    	ADD	IX,SP
                           A   906    ;   77		putch(17); // COLOUR
                           A   907    .LINE 77
                           A   908    
040680 01110000            A   909    	LD	BC,17
040684 C5                  A   910    	PUSH	BC
040685 CD BB 0F 04         A   911    	CALL	_putch
040689 C1                  A   912    	POP	BC
                           A   913    ;   78		putch(colorindex | 0x80);	
                           A   914    .LINE 78
                           A   915    
04068A DD7E06              A   916    	LD	A,(IX+%6)
04068D B7ED62              A   917    	UEXT	HL
040690 6F                  A   918    	LD	L,A
040691 01800000            A   919    	LD	BC,128
040695 CD 76 16 04         A   920    	CALL	__ior
040699 E5                  A   921    	PUSH	HL
04069A CD BB 0F 04         A   922    	CALL	_putch
04069E C1                  A   923    	POP	BC
                           A   924    ;   79	}
                           A   925    .LINE 79
                           A   926    
04069F DDF9                A   927    	LD	SP,IX
0406A1 DDE1                A   928    	POP	IX
0406A3 C9                  A   929    	RET	
                           A   930    
                           A   931    
                           A   932    ;**************************** _vdp_bgcolour ***
                           A   933    ;Name                         Addr/Register   S
                           A   934    ;_putch                              IMPORT  --
                           A   935    ;colorindex                            IX+6    
                           A   936    
                           A   937    
                           A   938    ; Stack Frame Size: 9 (bytes)
                           A   939    ;       Spill Code: 0 (instruction)
                           A   940    
                           A   941    
                           A   942    .ENDFUNC "vdp_bgcolour",79,"_vdp_bgcolour"
                           A   943    ;   80	
                           A   944    ;   81	//
                           A   945    ;   82	// Graphics functions
                           A   946    ;   83	//
                           A   947    ;   84	
                           A   948    ;   85	void vdp_clearGraphics()
                           A   949    ;   86	{
0406A4                     A   950    _vdp_clearGraphics:
                           A   951    .DEFINE "_vdp_clearGraphics"
                           A   952    
                           A   953    .VALUE _vdp_clearGraphics
                           A   954    
                           A   955    .CLASS 2
                           A   956    
                           A   957    .TYPE 65
                           A   958    
                           A   959    .ENDEF
                           A   960    
                           A   961    .BEGFUNC "vdp_clearGraphics",86,"_vdp_clearGrap
                           A   962    
0406A4 DDE5                A   963    	PUSH	IX
0406A6 DD210000 00         A   964    	LD	IX,0
0406AB DD39                A   965    	ADD	IX,SP
                           A   966    ;   87	    putch(16);    
                           A   967    .LINE 87
                           A   968    
0406AD 01100000            A   969    	LD	BC,16
0406B1 C5                  A   970    	PUSH	BC
0406B2 CD BB 0F 04         A   971    	CALL	_putch
0406B6 C1                  A   972    	POP	BC
                           A   973    ;   88	}
                           A   974    .LINE 88
                           A   975    
0406B7 DDF9                A   976    	LD	SP,IX
0406B9 DDE1                A   977    	POP	IX
0406BB C9                  A   978    	RET	
                           A   979    
                           A   980    
                           A   981    ;**************************** _vdp_clearGraphic
                           A   982    ;Name                         Addr/Register   S
                           A   983    ;_putch                              IMPORT  --
                           A   984    
                           A   985    
                           A   986    ; Stack Frame Size: 6 (bytes)
                           A   987    ;       Spill Code: 0 (instruction)
                           A   988    
                           A   989    
                           A   990    .ENDFUNC "vdp_clearGraphics",88,"_vdp_clearGrap
                           A   991    ;   89	
                           A   992    ;   90	void vdp_plotColour(unsigned char color
                           A   993    ;   91	{
0406BC                     A   994    _vdp_plotColour:
                           A   995    .DEFINE "_vdp_plotColour"
                           A   996    
                           A   997    .VALUE _vdp_plotColour
                           A   998    
                           A   999    .CLASS 2
                           A  1000    
                           A  1001    .TYPE 65
                           A  1002    
                           A  1003    .ENDEF
                           A  1004    
                           A  1005    .BEGFUNC "vdp_plotColour",91,"_vdp_plotColour"
                           A  1006    
                           A  1007    .LINE 91
                           A  1008    
                           A  1009    .DEFINE "colorindex"
                           A  1010    
                           A  1011    .CLASS 65
                           A  1012    
                           A  1013    .VALUE 6
                           A  1014    
                           A  1015    .TYPE 12
                           A  1016    
                           A  1017    .ENDEF
                           A  1018    
0406BC DDE5                A  1019    	PUSH	IX
0406BE DD210000 00         A  1020    	LD	IX,0
0406C3 DD39                A  1021    	ADD	IX,SP
                           A  1022    ;   92	    putch(18); // GCOL
                           A  1023    .LINE 92
                           A  1024    
0406C5 01120000            A  1025    	LD	BC,18
0406C9 C5                  A  1026    	PUSH	BC
0406CA CD BB 0F 04         A  1027    	CALL	_putch
0406CE C1                  A  1028    	POP	BC
                           A  1029    ;   93	    putch(1);
                           A  1030    .LINE 93
                           A  1031    
0406CF 01010000            A  1032    	LD	BC,1
0406D3 C5                  A  1033    	PUSH	BC
0406D4 CD BB 0F 04         A  1034    	CALL	_putch
0406D8 C1                  A  1035    	POP	BC
                           A  1036    ;   94		putch(colorindex);
                           A  1037    .LINE 94
                           A  1038    
0406D9 DD7E06              A  1039    	LD	A,(IX+%6)
0406DC B7ED62              A  1040    	UEXT	HL
0406DF 6F                  A  1041    	LD	L,A
0406E0 E5                  A  1042    	PUSH	HL
0406E1 CD BB 0F 04         A  1043    	CALL	_putch
0406E5 C1                  A  1044    	POP	BC
                           A  1045    ;   95	}
                           A  1046    .LINE 95
                           A  1047    
0406E6 DDF9                A  1048    	LD	SP,IX
0406E8 DDE1                A  1049    	POP	IX
0406EA C9                  A  1050    	RET	
                           A  1051    
                           A  1052    
                           A  1053    ;**************************** _vdp_plotColour *
                           A  1054    ;Name                         Addr/Register   S
                           A  1055    ;_putch                              IMPORT  --
                           A  1056    ;colorindex                            IX+6    
                           A  1057    
                           A  1058    
                           A  1059    ; Stack Frame Size: 9 (bytes)
                           A  1060    ;       Spill Code: 0 (instruction)
                           A  1061    
                           A  1062    
                           A  1063    .ENDFUNC "vdp_plotColour",95,"_vdp_plotColour"
                           A  1064    ;   96	
                           A  1065    ;   97	// internal function
                           A  1066    ;   98	void vdp_plot(unsigned char mode, unsig
                           A  1067    ;   99	{
0406EB                     A  1068    _vdp_plot:
                           A  1069    .DEFINE "_vdp_plot"
                           A  1070    
                           A  1071    .VALUE _vdp_plot
                           A  1072    
                           A  1073    .CLASS 2
                           A  1074    
                           A  1075    .TYPE 65
                           A  1076    
                           A  1077    .ENDEF
                           A  1078    
                           A  1079    .BEGFUNC "vdp_plot",99,"_vdp_plot"
                           A  1080    
                           A  1081    .LINE 99
                           A  1082    
                           A  1083    .DEFINE "mode"
                           A  1084    
                           A  1085    .CLASS 65
                           A  1086    
                           A  1087    .VALUE 6
                           A  1088    
                           A  1089    .TYPE 12
                           A  1090    
                           A  1091    .ENDEF
                           A  1092    
                           A  1093    .DEFINE "x"
                           A  1094    
                           A  1095    .CLASS 65
                           A  1096    
                           A  1097    .VALUE 9
                           A  1098    
                           A  1099    .TYPE 14
                           A  1100    
                           A  1101    .ENDEF
                           A  1102    
                           A  1103    .DEFINE "y"
                           A  1104    
                           A  1105    .CLASS 65
                           A  1106    
                           A  1107    .VALUE 12
                           A  1108    
                           A  1109    .TYPE 14
                           A  1110    
                           A  1111    .ENDEF
                           A  1112    
0406EB DDE5                A  1113    	PUSH	IX
0406ED DD210000 00         A  1114    	LD	IX,0
0406F2 DD39                A  1115    	ADD	IX,SP
                           A  1116    ;  100	    putch(25); // PLOT
                           A  1117    .LINE 100
                           A  1118    
0406F4 01190000            A  1119    	LD	BC,25
0406F8 C5                  A  1120    	PUSH	BC
0406F9 CD BB 0F 04         A  1121    	CALL	_putch
0406FD C1                  A  1122    	POP	BC
                           A  1123    ;  101	    putch(mode);
                           A  1124    .LINE 101
                           A  1125    
0406FE DD7E06              A  1126    	LD	A,(IX+%6)
040701 B7ED62              A  1127    	UEXT	HL
040704 6F                  A  1128    	LD	L,A
040705 E5                  A  1129    	PUSH	HL
040706 CD BB 0F 04         A  1130    	CALL	_putch
04070A C1                  A  1131    	POP	BC
                           A  1132    ;  102	    putch(x & 0xFF);
                           A  1133    .LINE 102
                           A  1134    
04070B DD7E09              A  1135    	LD	A,(IX+%9)
04070E B7ED62              A  1136    	UEXT	HL
040711 6F                  A  1137    	LD	L,A
040712 E5                  A  1138    	PUSH	HL
040713 CD BB 0F 04         A  1139    	CALL	_putch
040717 C1                  A  1140    	POP	BC
                           A  1141    ;  103	    putch(x >> 8);
                           A  1142    .LINE 103
                           A  1143    
040718 DD2709              A  1144    	LD	HL,(IX+%9)
04071B 3E08                A  1145    	LD	A,%8
04071D CD FE 1C 04         A  1146    	CALL	__ishru_b
040721 E5                  A  1147    	PUSH	HL
040722 CD BB 0F 04         A  1148    	CALL	_putch
040726 C1                  A  1149    	POP	BC
                           A  1150    ;  104	    putch(y & 0xFF);
                           A  1151    .LINE 104
                           A  1152    
040727 DD7E0C              A  1153    	LD	A,(IX+%C)
04072A B7ED62              A  1154    	UEXT	HL
04072D 6F                  A  1155    	LD	L,A
04072E E5                  A  1156    	PUSH	HL
04072F CD BB 0F 04         A  1157    	CALL	_putch
040733 C1                  A  1158    	POP	BC
                           A  1159    ;  105	    putch(y >> 8);
                           A  1160    .LINE 105
                           A  1161    
040734 DD270C              A  1162    	LD	HL,(IX+%C)
040737 3E08                A  1163    	LD	A,%8
040739 CD FE 1C 04         A  1164    	CALL	__ishru_b
04073D E5                  A  1165    	PUSH	HL
04073E CD BB 0F 04         A  1166    	CALL	_putch
040742 C1                  A  1167    	POP	BC
                           A  1168    ;  106	}
                           A  1169    .LINE 106
                           A  1170    
040743 DDF9                A  1171    	LD	SP,IX
040745 DDE1                A  1172    	POP	IX
040747 C9                  A  1173    	RET	
                           A  1174    
                           A  1175    
                           A  1176    ;**************************** _vdp_plot *******
                           A  1177    ;Name                         Addr/Register   S
                           A  1178    ;_putch                              IMPORT  --
                           A  1179    ;y                                    IX+12    
                           A  1180    ;x                                     IX+9    
                           A  1181    ;mode                                  IX+6    
                           A  1182    
                           A  1183    
                           A  1184    ; Stack Frame Size: 15 (bytes)
                           A  1185    ;       Spill Code: 0 (instruction)
                           A  1186    
                           A  1187    
                           A  1188    .ENDFUNC "vdp_plot",106,"_vdp_plot"
                           A  1189    ;  107	
                           A  1190    ;  108	void vdp_plotMoveTo(unsigned int x, uns
                           A  1191    ;  109	{
040748                     A  1192    _vdp_plotMoveTo:
                           A  1193    .DEFINE "_vdp_plotMoveTo"
                           A  1194    
                           A  1195    .VALUE _vdp_plotMoveTo
                           A  1196    
                           A  1197    .CLASS 2
                           A  1198    
                           A  1199    .TYPE 65
                           A  1200    
                           A  1201    .ENDEF
                           A  1202    
                           A  1203    .BEGFUNC "vdp_plotMoveTo",109,"_vdp_plotMoveTo"
                           A  1204    
                           A  1205    .LINE 109
                           A  1206    
                           A  1207    .DEFINE "x"
                           A  1208    
                           A  1209    .CLASS 65
                           A  1210    
                           A  1211    .VALUE 6
                           A  1212    
                           A  1213    .TYPE 14
                           A  1214    
                           A  1215    .ENDEF
                           A  1216    
                           A  1217    .DEFINE "y"
                           A  1218    
                           A  1219    .CLASS 65
                           A  1220    
                           A  1221    .VALUE 9
                           A  1222    
                           A  1223    .TYPE 14
                           A  1224    
                           A  1225    .ENDEF
                           A  1226    
040748 DDE5                A  1227    	PUSH	IX
04074A DD210000 00         A  1228    	LD	IX,0
04074F DD39                A  1229    	ADD	IX,SP
                           A  1230    ;  110		vdp_plot(0x04,x,y);
                           A  1231    .LINE 110
                           A  1232    
040751 DD0709              A  1233    	LD	BC,(IX+%9)
040754 C5                  A  1234    	PUSH	BC
040755 DD0706              A  1235    	LD	BC,(IX+%6)
040758 C5                  A  1236    	PUSH	BC
040759 01040000            A  1237    	LD	BC,4
04075D C5                  A  1238    	PUSH	BC
04075E CD EB 06 04         A  1239    	CALL	_vdp_plot
040762 C1                  A  1240    	POP	BC
040763 C1                  A  1241    	POP	BC
040764 C1                  A  1242    	POP	BC
                           A  1243    ;  111	}
                           A  1244    .LINE 111
                           A  1245    
040765 DDF9                A  1246    	LD	SP,IX
040767 DDE1                A  1247    	POP	IX
040769 C9                  A  1248    	RET	
                           A  1249    
                           A  1250    
                           A  1251    ;**************************** _vdp_plotMoveTo *
                           A  1252    ;Name                         Addr/Register   S
                           A  1253    ;y                                     IX+9    
                           A  1254    ;x                                     IX+6    
                           A  1255    
                           A  1256    
                           A  1257    ; Stack Frame Size: 12 (bytes)
                           A  1258    ;       Spill Code: 0 (instruction)
                           A  1259    
                           A  1260    
                           A  1261    .ENDFUNC "vdp_plotMoveTo",111,"_vdp_plotMoveTo"
                           A  1262    ;  112	
                           A  1263    ;  113	void vdp_plotLineTo(unsigned int x, uns
                           A  1264    ;  114	{
04076A                     A  1265    _vdp_plotLineTo:
                           A  1266    .DEFINE "_vdp_plotLineTo"
                           A  1267    
                           A  1268    .VALUE _vdp_plotLineTo
                           A  1269    
                           A  1270    .CLASS 2
                           A  1271    
                           A  1272    .TYPE 65
                           A  1273    
                           A  1274    .ENDEF
                           A  1275    
                           A  1276    .BEGFUNC "vdp_plotLineTo",114,"_vdp_plotLineTo"
                           A  1277    
                           A  1278    .LINE 114
                           A  1279    
                           A  1280    .DEFINE "x"
                           A  1281    
                           A  1282    .CLASS 65
                           A  1283    
                           A  1284    .VALUE 6
                           A  1285    
                           A  1286    .TYPE 14
                           A  1287    
                           A  1288    .ENDEF
                           A  1289    
                           A  1290    .DEFINE "y"
                           A  1291    
                           A  1292    .CLASS 65
                           A  1293    
                           A  1294    .VALUE 9
                           A  1295    
                           A  1296    .TYPE 14
                           A  1297    
                           A  1298    .ENDEF
                           A  1299    
04076A DDE5                A  1300    	PUSH	IX
04076C DD210000 00         A  1301    	LD	IX,0
040771 DD39                A  1302    	ADD	IX,SP
                           A  1303    ;  115		vdp_plot(0x05,x,y);
                           A  1304    .LINE 115
                           A  1305    
040773 DD0709              A  1306    	LD	BC,(IX+%9)
040776 C5                  A  1307    	PUSH	BC
040777 DD0706              A  1308    	LD	BC,(IX+%6)
04077A C5                  A  1309    	PUSH	BC
04077B 01050000            A  1310    	LD	BC,5
04077F C5                  A  1311    	PUSH	BC
040780 CD EB 06 04         A  1312    	CALL	_vdp_plot
040784 C1                  A  1313    	POP	BC
040785 C1                  A  1314    	POP	BC
040786 C1                  A  1315    	POP	BC
                           A  1316    ;  116	}
                           A  1317    .LINE 116
                           A  1318    
040787 DDF9                A  1319    	LD	SP,IX
040789 DDE1                A  1320    	POP	IX
04078B C9                  A  1321    	RET	
                           A  1322    
                           A  1323    
                           A  1324    ;**************************** _vdp_plotLineTo *
                           A  1325    ;Name                         Addr/Register   S
                           A  1326    ;y                                     IX+9    
                           A  1327    ;x                                     IX+6    
                           A  1328    
                           A  1329    
                           A  1330    ; Stack Frame Size: 12 (bytes)
                           A  1331    ;       Spill Code: 0 (instruction)
                           A  1332    
                           A  1333    
                           A  1334    .ENDFUNC "vdp_plotLineTo",116,"_vdp_plotLineTo"
                           A  1335    ;  117	
                           A  1336    ;  118	void vdp_plotPoint(unsigned int x, unsi
                           A  1337    ;  119	{
04078C                     A  1338    _vdp_plotPoint:
                           A  1339    .DEFINE "_vdp_plotPoint"
                           A  1340    
                           A  1341    .VALUE _vdp_plotPoint
                           A  1342    
                           A  1343    .CLASS 2
                           A  1344    
                           A  1345    .TYPE 65
                           A  1346    
                           A  1347    .ENDEF
                           A  1348    
                           A  1349    .BEGFUNC "vdp_plotPoint",119,"_vdp_plotPoint"
                           A  1350    
                           A  1351    .LINE 119
                           A  1352    
                           A  1353    .DEFINE "x"
                           A  1354    
                           A  1355    .CLASS 65
                           A  1356    
                           A  1357    .VALUE 6
                           A  1358    
                           A  1359    .TYPE 14
                           A  1360    
                           A  1361    .ENDEF
                           A  1362    
                           A  1363    .DEFINE "y"
                           A  1364    
                           A  1365    .CLASS 65
                           A  1366    
                           A  1367    .VALUE 9
                           A  1368    
                           A  1369    .TYPE 14
                           A  1370    
                           A  1371    .ENDEF
                           A  1372    
04078C DDE5                A  1373    	PUSH	IX
04078E DD210000 00         A  1374    	LD	IX,0
040793 DD39                A  1375    	ADD	IX,SP
                           A  1376    ;  120		vdp_plot(0x40,x,y);
                           A  1377    .LINE 120
                           A  1378    
040795 DD0709              A  1379    	LD	BC,(IX+%9)
040798 C5                  A  1380    	PUSH	BC
040799 DD0706              A  1381    	LD	BC,(IX+%6)
04079C C5                  A  1382    	PUSH	BC
04079D 01400000            A  1383    	LD	BC,64
0407A1 C5                  A  1384    	PUSH	BC
0407A2 CD EB 06 04         A  1385    	CALL	_vdp_plot
0407A6 C1                  A  1386    	POP	BC
0407A7 C1                  A  1387    	POP	BC
0407A8 C1                  A  1388    	POP	BC
                           A  1389    ;  121	}
                           A  1390    .LINE 121
                           A  1391    
0407A9 DDF9                A  1392    	LD	SP,IX
0407AB DDE1                A  1393    	POP	IX
0407AD C9                  A  1394    	RET	
                           A  1395    
                           A  1396    
                           A  1397    ;**************************** _vdp_plotPoint **
                           A  1398    ;Name                         Addr/Register   S
                           A  1399    ;y                                     IX+9    
                           A  1400    ;x                                     IX+6    
                           A  1401    
                           A  1402    
                           A  1403    ; Stack Frame Size: 12 (bytes)
                           A  1404    ;       Spill Code: 0 (instruction)
                           A  1405    
                           A  1406    
                           A  1407    .ENDFUNC "vdp_plotPoint",121,"_vdp_plotPoint"
                           A  1408    ;  122	
                           A  1409    ;  123	void vdp_plotTriangle(unsigned int x, u
                           A  1410    ;  124	{
0407AE                     A  1411    _vdp_plotTriangle:
                           A  1412    .DEFINE "_vdp_plotTriangle"
                           A  1413    
                           A  1414    .VALUE _vdp_plotTriangle
                           A  1415    
                           A  1416    .CLASS 2
                           A  1417    
                           A  1418    .TYPE 65
                           A  1419    
                           A  1420    .ENDEF
                           A  1421    
                           A  1422    .BEGFUNC "vdp_plotTriangle",124,"_vdp_plotTrian
                           A  1423    
                           A  1424    .LINE 124
                           A  1425    
                           A  1426    .DEFINE "x"
                           A  1427    
                           A  1428    .CLASS 65
                           A  1429    
                           A  1430    .VALUE 6
                           A  1431    
                           A  1432    .TYPE 14
                           A  1433    
                           A  1434    .ENDEF
                           A  1435    
                           A  1436    .DEFINE "y"
                           A  1437    
                           A  1438    .CLASS 65
                           A  1439    
                           A  1440    .VALUE 9
                           A  1441    
                           A  1442    .TYPE 14
                           A  1443    
                           A  1444    .ENDEF
                           A  1445    
0407AE DDE5                A  1446    	PUSH	IX
0407B0 DD210000 00         A  1447    	LD	IX,0
0407B5 DD39                A  1448    	ADD	IX,SP
                           A  1449    ;  125		vdp_plot(0x50,x,y);
                           A  1450    .LINE 125
                           A  1451    
0407B7 DD0709              A  1452    	LD	BC,(IX+%9)
0407BA C5                  A  1453    	PUSH	BC
0407BB DD0706              A  1454    	LD	BC,(IX+%6)
0407BE C5                  A  1455    	PUSH	BC
0407BF 01500000            A  1456    	LD	BC,80
0407C3 C5                  A  1457    	PUSH	BC
0407C4 CD EB 06 04         A  1458    	CALL	_vdp_plot
0407C8 C1                  A  1459    	POP	BC
0407C9 C1                  A  1460    	POP	BC
0407CA C1                  A  1461    	POP	BC
                           A  1462    ;  126	}
                           A  1463    .LINE 126
                           A  1464    
0407CB DDF9                A  1465    	LD	SP,IX
0407CD DDE1                A  1466    	POP	IX
0407CF C9                  A  1467    	RET	
                           A  1468    
                           A  1469    
                           A  1470    ;**************************** _vdp_plotTriangle
                           A  1471    ;Name                         Addr/Register   S
                           A  1472    ;y                                     IX+9    
                           A  1473    ;x                                     IX+6    
                           A  1474    
                           A  1475    
                           A  1476    ; Stack Frame Size: 12 (bytes)
                           A  1477    ;       Spill Code: 0 (instruction)
                           A  1478    
                           A  1479    
                           A  1480    .ENDFUNC "vdp_plotTriangle",126,"_vdp_plotTrian
                           A  1481    ;  127	
                           A  1482    ;  128	void vdp_plotCircleRadius(unsigned int 
                           A  1483    ;  129	{
0407D0                     A  1484    _vdp_plotCircleRadius:
                           A  1485    .DEFINE "_vdp_plotCircleRadius"
                           A  1486    
                           A  1487    .VALUE _vdp_plotCircleRadius
                           A  1488    
                           A  1489    .CLASS 2
                           A  1490    
                           A  1491    .TYPE 65
                           A  1492    
                           A  1493    .ENDEF
                           A  1494    
                           A  1495    .BEGFUNC "vdp_plotCircleRadius",129,"_vdp_plotC
                           A  1496    
                           A  1497    .LINE 129
                           A  1498    
                           A  1499    .DEFINE "r"
                           A  1500    
                           A  1501    .CLASS 65
                           A  1502    
                           A  1503    .VALUE 6
                           A  1504    
                           A  1505    .TYPE 14
                           A  1506    
                           A  1507    .ENDEF
                           A  1508    
0407D0 DDE5                A  1509    	PUSH	IX
0407D2 DD210000 00         A  1510    	LD	IX,0
0407D7 DD39                A  1511    	ADD	IX,SP
                           A  1512    ;  130		vdp_plot(0x90,r,0);
                           A  1513    .LINE 130
                           A  1514    
0407D9 01000000            A  1515    	LD	BC,0
0407DD C5                  A  1516    	PUSH	BC
0407DE DD0706              A  1517    	LD	BC,(IX+%6)
0407E1 C5                  A  1518    	PUSH	BC
0407E2 01900000            A  1519    	LD	BC,144
0407E6 C5                  A  1520    	PUSH	BC
0407E7 CD EB 06 04         A  1521    	CALL	_vdp_plot
0407EB C1                  A  1522    	POP	BC
0407EC C1                  A  1523    	POP	BC
0407ED C1                  A  1524    	POP	BC
                           A  1525    ;  131	}
                           A  1526    .LINE 131
                           A  1527    
0407EE DDF9                A  1528    	LD	SP,IX
0407F0 DDE1                A  1529    	POP	IX
0407F2 C9                  A  1530    	RET	
                           A  1531    
                           A  1532    
                           A  1533    ;**************************** _vdp_plotCircleRa
                           A  1534    ;Name                         Addr/Register   S
                           A  1535    ;r                                     IX+6    
                           A  1536    
                           A  1537    
                           A  1538    ; Stack Frame Size: 9 (bytes)
                           A  1539    ;       Spill Code: 0 (instruction)
                           A  1540    
                           A  1541    
                           A  1542    .ENDFUNC "vdp_plotCircleRadius",131,"_vdp_plotC
                           A  1543    ;  132	
                           A  1544    ;  133	void vdp_plotCircleCircumference(unsign
                           A  1545    ;  134	{
0407F3                     A  1546    _vdp_plotCircleCircumference:
                           A  1547    .DEFINE "_vdp_plotCircleCircumference"
                           A  1548    
                           A  1549    .VALUE _vdp_plotCircleCircumference
                           A  1550    
                           A  1551    .CLASS 2
                           A  1552    
                           A  1553    .TYPE 65
                           A  1554    
                           A  1555    .ENDEF
                           A  1556    
                           A  1557    .BEGFUNC "vdp_plotCircleCircumference",134,"_vd
                           A  1558    
                           A  1559    .LINE 134
                           A  1560    
                           A  1561    .DEFINE "x"
                           A  1562    
                           A  1563    .CLASS 65
                           A  1564    
                           A  1565    .VALUE 6
                           A  1566    
                           A  1567    .TYPE 14
                           A  1568    
                           A  1569    .ENDEF
                           A  1570    
                           A  1571    .DEFINE "y"
                           A  1572    
                           A  1573    .CLASS 65
                           A  1574    
                           A  1575    .VALUE 9
                           A  1576    
                           A  1577    .TYPE 14
                           A  1578    
                           A  1579    .ENDEF
                           A  1580    
0407F3 DDE5                A  1581    	PUSH	IX
0407F5 DD210000 00         A  1582    	LD	IX,0
0407FA DD39                A  1583    	ADD	IX,SP
                           A  1584    ;  135		vdp_plot(0x95,x,y);
                           A  1585    .LINE 135
                           A  1586    
0407FC DD0709              A  1587    	LD	BC,(IX+%9)
0407FF C5                  A  1588    	PUSH	BC
040800 DD0706              A  1589    	LD	BC,(IX+%6)
040803 C5                  A  1590    	PUSH	BC
040804 01950000            A  1591    	LD	BC,149
040808 C5                  A  1592    	PUSH	BC
040809 CD EB 06 04         A  1593    	CALL	_vdp_plot
04080D C1                  A  1594    	POP	BC
04080E C1                  A  1595    	POP	BC
04080F C1                  A  1596    	POP	BC
                           A  1597    ;  136	}
                           A  1598    .LINE 136
                           A  1599    
040810 DDF9                A  1600    	LD	SP,IX
040812 DDE1                A  1601    	POP	IX
040814 C9                  A  1602    	RET	
                           A  1603    
                           A  1604    
                           A  1605    ;**************************** _vdp_plotCircleCi
                           A  1606    ;Name                         Addr/Register   S
                           A  1607    ;y                                     IX+9    
                           A  1608    ;x                                     IX+6    
                           A  1609    
                           A  1610    
                           A  1611    ; Stack Frame Size: 12 (bytes)
                           A  1612    ;       Spill Code: 0 (instruction)
                           A  1613    
                           A  1614    
                           A  1615    .ENDFUNC "vdp_plotCircleCircumference",136,"_vd
                           A  1616    ;  137	
                           A  1617    ;  138	void vdp_plotSetOrigin(unsigned int x, 
                           A  1618    ;  139	{
040815                     A  1619    _vdp_plotSetOrigin:
                           A  1620    .DEFINE "_vdp_plotSetOrigin"
                           A  1621    
                           A  1622    .VALUE _vdp_plotSetOrigin
                           A  1623    
                           A  1624    .CLASS 2
                           A  1625    
                           A  1626    .TYPE 65
                           A  1627    
                           A  1628    .ENDEF
                           A  1629    
                           A  1630    .BEGFUNC "vdp_plotSetOrigin",139,"_vdp_plotSetO
                           A  1631    
                           A  1632    .LINE 139
                           A  1633    
                           A  1634    .DEFINE "x"
                           A  1635    
                           A  1636    .CLASS 65
                           A  1637    
                           A  1638    .VALUE 6
                           A  1639    
                           A  1640    .TYPE 14
                           A  1641    
                           A  1642    .ENDEF
                           A  1643    
                           A  1644    .DEFINE "y"
                           A  1645    
                           A  1646    .CLASS 65
                           A  1647    
                           A  1648    .VALUE 9
                           A  1649    
                           A  1650    .TYPE 14
                           A  1651    
                           A  1652    .ENDEF
                           A  1653    
040815 DDE5                A  1654    	PUSH	IX
040817 DD210000 00         A  1655    	LD	IX,0
04081C DD39                A  1656    	ADD	IX,SP
                           A  1657    ;  140	    putch(29); //Graphics ORIGIN
                           A  1658    .LINE 140
                           A  1659    
04081E 011D0000            A  1660    	LD	BC,29
040822 C5                  A  1661    	PUSH	BC
040823 CD BB 0F 04         A  1662    	CALL	_putch
040827 C1                  A  1663    	POP	BC
                           A  1664    ;  141	    putch(x & 0xF);
                           A  1665    .LINE 141
                           A  1666    
040828 DD7E06              A  1667    	LD	A,(IX+%6)
04082B E60F                A  1668    	AND	A,%F
04082D B7ED62              A  1669    	UEXT	HL
040830 6F                  A  1670    	LD	L,A
040831 E5                  A  1671    	PUSH	HL
040832 CD BB 0F 04         A  1672    	CALL	_putch
040836 C1                  A  1673    	POP	BC
                           A  1674    ;  142	    putch(x >> 8);
                           A  1675    .LINE 142
                           A  1676    
040837 DD2706              A  1677    	LD	HL,(IX+%6)
04083A 3E08                A  1678    	LD	A,%8
04083C CD FE 1C 04         A  1679    	CALL	__ishru_b
040840 E5                  A  1680    	PUSH	HL
040841 CD BB 0F 04         A  1681    	CALL	_putch
040845 C1                  A  1682    	POP	BC
                           A  1683    ;  143	    putch(y & 0xF);
                           A  1684    .LINE 143
                           A  1685    
040846 DD7E09              A  1686    	LD	A,(IX+%9)
040849 E60F                A  1687    	AND	A,%F
04084B B7ED62              A  1688    	UEXT	HL
04084E 6F                  A  1689    	LD	L,A
04084F E5                  A  1690    	PUSH	HL
040850 CD BB 0F 04         A  1691    	CALL	_putch
040854 C1                  A  1692    	POP	BC
                           A  1693    ;  144	    putch(y >> 8);
                           A  1694    .LINE 144
                           A  1695    
040855 DD2709              A  1696    	LD	HL,(IX+%9)
040858 3E08                A  1697    	LD	A,%8
04085A CD FE 1C 04         A  1698    	CALL	__ishru_b
04085E E5                  A  1699    	PUSH	HL
04085F CD BB 0F 04         A  1700    	CALL	_putch
040863 C1                  A  1701    	POP	BC
                           A  1702    ;  145	}
                           A  1703    .LINE 145
                           A  1704    
040864 DDF9                A  1705    	LD	SP,IX
040866 DDE1                A  1706    	POP	IX
040868 C9                  A  1707    	RET	
                           A  1708    
                           A  1709    
                           A  1710    ;**************************** _vdp_plotSetOrigi
                           A  1711    ;Name                         Addr/Register   S
                           A  1712    ;_putch                              IMPORT  --
                           A  1713    ;y                                     IX+9    
                           A  1714    ;x                                     IX+6    
                           A  1715    
                           A  1716    
                           A  1717    ; Stack Frame Size: 12 (bytes)
                           A  1718    ;       Spill Code: 0 (instruction)
                           A  1719    
                           A  1720    
                           A  1721    .ENDFUNC "vdp_plotSetOrigin",145,"_vdp_plotSetO
                           A  1722    ;  146	
                           A  1723    ;  147	// Bitmap VDP functions
                           A  1724    ;  148	void vdp_bitmapSelect(UINT8 id)
                           A  1725    ;  149	{
040869                     A  1726    _vdp_bitmapSelect:
                           A  1727    .DEFINE "_vdp_bitmapSelect"
                           A  1728    
                           A  1729    .VALUE _vdp_bitmapSelect
                           A  1730    
                           A  1731    .CLASS 2
                           A  1732    
                           A  1733    .TYPE 65
                           A  1734    
                           A  1735    .ENDEF
                           A  1736    
                           A  1737    .BEGFUNC "vdp_bitmapSelect",149,"_vdp_bitmapSel
                           A  1738    
                           A  1739    .LINE 149
                           A  1740    
                           A  1741    .DEFINE "id"
                           A  1742    
                           A  1743    .CLASS 65
                           A  1744    
                           A  1745    .VALUE 6
                           A  1746    
                           A  1747    .TYPE 12
                           A  1748    
                           A  1749    .ENDEF
                           A  1750    
040869 DDE5                A  1751    	PUSH	IX
04086B DD210000 00         A  1752    	LD	IX,0
040870 DD39                A  1753    	ADD	IX,SP
                           A  1754    ;  150		putch(23); // vdu_sys
                           A  1755    .LINE 150
                           A  1756    
040872 01170000            A  1757    	LD	BC,23
040876 C5                  A  1758    	PUSH	BC
040877 CD BB 0F 04         A  1759    	CALL	_putch
04087B C1                  A  1760    	POP	BC
                           A  1761    ;  151		putch(27); // sprite command
                           A  1762    .LINE 151
                           A  1763    
04087C 011B0000            A  1764    	LD	BC,27
040880 C5                  A  1765    	PUSH	BC
040881 CD BB 0F 04         A  1766    	CALL	_putch
040885 C1                  A  1767    	POP	BC
                           A  1768    ;  152		putch(0);  // select command
                           A  1769    .LINE 152
                           A  1770    
040886 01000000            A  1771    	LD	BC,0
04088A C5                  A  1772    	PUSH	BC
04088B CD BB 0F 04         A  1773    	CALL	_putch
04088F C1                  A  1774    	POP	BC
                           A  1775    ;  153		putch(id); // bitmap_id
                           A  1776    .LINE 153
                           A  1777    
040890 DD7E06              A  1778    	LD	A,(IX+%6)
040893 B7ED62              A  1779    	UEXT	HL
040896 6F                  A  1780    	LD	L,A
040897 E5                  A  1781    	PUSH	HL
040898 CD BB 0F 04         A  1782    	CALL	_putch
04089C C1                  A  1783    	POP	BC
                           A  1784    ;  154		return;	
                           A  1785    ;  155	}
                           A  1786    .LINE 155
                           A  1787    
04089D DDF9                A  1788    	LD	SP,IX
04089F DDE1                A  1789    	POP	IX
0408A1 C9                  A  1790    	RET	
                           A  1791    
                           A  1792    
                           A  1793    ;**************************** _vdp_bitmapSelect
                           A  1794    ;Name                         Addr/Register   S
                           A  1795    ;_putch                              IMPORT  --
                           A  1796    ;id                                    IX+6    
                           A  1797    
                           A  1798    
                           A  1799    ; Stack Frame Size: 9 (bytes)
                           A  1800    ;       Spill Code: 0 (instruction)
                           A  1801    
                           A  1802    
                           A  1803    .ENDFUNC "vdp_bitmapSelect",155,"_vdp_bitmapSel
                           A  1804    ;  156	
                           A  1805    ;  157	void vdp_bitmapSendDataSelected(UINT16 
                           A  1806    ;  158	{
0408A2                     A  1807    _vdp_bitmapSendDataSelected:
                           A  1808    .DEFINE "_vdp_bitmapSendDataSelected"
                           A  1809    
                           A  1810    .VALUE _vdp_bitmapSendDataSelected
                           A  1811    
                           A  1812    .CLASS 2
                           A  1813    
                           A  1814    .TYPE 65
                           A  1815    
                           A  1816    .ENDEF
                           A  1817    
                           A  1818    .BEGFUNC "vdp_bitmapSendDataSelected",158,"_vdp
                           A  1819    
                           A  1820    .LINE 158
                           A  1821    
                           A  1822    .DEFINE "width"
                           A  1823    
                           A  1824    .CLASS 65
                           A  1825    
                           A  1826    .VALUE 6
                           A  1827    
                           A  1828    .TYPE 13
                           A  1829    
                           A  1830    .ENDEF
                           A  1831    
                           A  1832    .DEFINE "height"
                           A  1833    
                           A  1834    .CLASS 65
                           A  1835    
                           A  1836    .VALUE 9
                           A  1837    
                           A  1838    .TYPE 13
                           A  1839    
                           A  1840    .ENDEF
                           A  1841    
                           A  1842    .DEFINE "data"
                           A  1843    
                           A  1844    .CLASS 65
                           A  1845    
                           A  1846    .VALUE 12
                           A  1847    
                           A  1848    .TYPE 47
                           A  1849    
                           A  1850    .ENDEF
                           A  1851    
                           A  1852    .DEFINE "n"
                           A  1853    
                           A  1854    .CLASS 65
                           A  1855    
                           A  1856    .VALUE -2
                           A  1857    
                           A  1858    .TYPE 13
                           A  1859    
                           A  1860    .ENDEF
                           A  1861    
0408A2 DDE5                A  1862    	PUSH	IX
0408A4 DD210000 00         A  1863    	LD	IX,0
0408A9 DD39                A  1864    	ADD	IX,SP
0408AB 3B                  A  1865    	DEC	SP
0408AC 3B                  A  1866    	DEC	SP
                           A  1867    ;  159		UINT16 n;
                           A  1868    ;  160		
                           A  1869    ;  161		putch(23); // vdu_sys
                           A  1870    .LINE 161
                           A  1871    
0408AD 01170000            A  1872    	LD	BC,23
0408B1 C5                  A  1873    	PUSH	BC
0408B2 CD BB 0F 04         A  1874    	CALL	_putch
0408B6 C1                  A  1875    	POP	BC
                           A  1876    ;  162		putch(27); // sprite command
                           A  1877    .LINE 162
                           A  1878    
0408B7 011B0000            A  1879    	LD	BC,27
0408BB C5                  A  1880    	PUSH	BC
0408BC CD BB 0F 04         A  1881    	CALL	_putch
0408C0 C1                  A  1882    	POP	BC
                           A  1883    ;  163		putch(1);  // send data to selected
                           A  1884    .LINE 163
                           A  1885    
0408C1 01010000            A  1886    	LD	BC,1
0408C5 C5                  A  1887    	PUSH	BC
0408C6 CD BB 0F 04         A  1888    	CALL	_putch
0408CA C1                  A  1889    	POP	BC
                           A  1890    ;  164		
                           A  1891    ;  165		write16bit(width);
                           A  1892    .LINE 165
                           A  1893    
0408CB DD0706              A  1894    	LD	BC,(IX+%6)
0408CE C5                  A  1895    	PUSH	BC
0408CF CD 80 04 04         A  1896    	CALL	_write16bit
0408D3 C1                  A  1897    	POP	BC
                           A  1898    ;  166		write16bit(height);
                           A  1899    .LINE 166
                           A  1900    
0408D4 DD0709              A  1901    	LD	BC,(IX+%9)
0408D7 C5                  A  1902    	PUSH	BC
0408D8 CD 80 04 04         A  1903    	CALL	_write16bit
0408DC C1                  A  1904    	POP	BC
                           A  1905    ;  167		
                           A  1906    ;  168		for(n = 0; n < (width*height); n++)
                           A  1907    .LINE 168
                           A  1908    
0408DD DD36FE00            A  1909    	LD	(IX+%FFFFFFFE),%0
0408E1 DD36FF00            A  1910    	LD	(IX+%FFFFFFFF),%0
0408E5 18 2B               A  1911    	JR	L_25
0408E7                     A  1912    L_23:
                           A  1913    ;  169		{
                           A  1914    ;  170			write32bit(data[n]);
                           A  1915    .LINE 170
                           A  1916    
0408E7 DD07FE              A  1917    	LD	BC,(IX+%FFFFFFFE)
0408EA CD 91 16 04         A  1918    	CALL	__stoiu
0408EE 29                  A  1919    	ADD	HL,HL
0408EF 29                  A  1920    	ADD	HL,HL
0408F0 DD070C              A  1921    	LD	BC,(IX+%C)
0408F3 09                  A  1922    	ADD	HL,BC
0408F4 E5FDE1              A  1923    	LD	IY,HL
0408F7 FD0700              A  1924    	LD	BC,(IY)
0408FA FD7E03              A  1925    	LD	A,(IY+%3)
0408FD 2600                A  1926    	LD	H,%0
0408FF 6F                  A  1927    	LD	L,A
040900 E5                  A  1928    	PUSH	HL
040901 C5                  A  1929    	PUSH	BC
040902 CD B3 04 04         A  1930    	CALL	_write32bit
040906 C1                  A  1931    	POP	BC
040907 C1                  A  1932    	POP	BC
040908 DD27FE              A  1933    	LD	HL,(IX+%FFFFFFFE)
04090B 23                  A  1934    	INC	HL
04090C DD75FE              A  1935    	LD	(IX+%FFFFFFFE),L
04090F DD74FF              A  1936    	LD	(IX+%FFFFFFFF),H
                           A  1937    ;  171			//delayms(1);
                           A  1938    ;  172		}
040912                     A  1939    L_25:
                           A  1940    .LINE 172
                           A  1941    
040912 DD0706              A  1942    	LD	BC,(IX+%6)
040915 CD 91 16 04         A  1943    	CALL	__stoiu
040919 E5D1                A  1944    	LD	DE,HL
04091B DD0709              A  1945    	LD	BC,(IX+%9)
04091E CD 91 16 04         A  1946    	CALL	__stoiu
040922 E5C1                A  1947    	LD	BC,HL
040924 D5E1                A  1948    	LD	HL,DE
040926 CD C2 1C 04         A  1949    	CALL	__imuls
04092A E5D1                A  1950    	LD	DE,HL
04092C DD07FE              A  1951    	LD	BC,(IX+%FFFFFFFE)
04092F CD 91 16 04         A  1952    	CALL	__stoiu
040933 B7                  A  1953    	OR	A,A
040934 ED52                A  1954    	SBC	HL,DE
040936 CD D7 14 04         A  1955    	CALL	__setflag
04093A FA E7 08 04         A  1956    	JP	M,L_23
                           A  1957    ;  173		return;		
                           A  1958    ;  174	}
                           A  1959    .LINE 174
                           A  1960    
04093E DDF9                A  1961    	LD	SP,IX
040940 DDE1                A  1962    	POP	IX
040942 C9                  A  1963    	RET	
                           A  1964    
                           A  1965    
                           A  1966    ;**************************** _vdp_bitmapSendDa
                           A  1967    ;Name                         Addr/Register   S
                           A  1968    ;_putch                              IMPORT  --
                           A  1969    ;n                                     IX-2    
                           A  1970    ;data                                 IX+12    
                           A  1971    ;height                                IX+9    
                           A  1972    ;width                                 IX+6    
                           A  1973    
                           A  1974    
                           A  1975    ; Stack Frame Size: 17 (bytes)
                           A  1976    ;       Spill Code: 0 (instruction)
                           A  1977    
                           A  1978    
                           A  1979    .ENDFUNC "vdp_bitmapSendDataSelected",174,"_vdp
                           A  1980    ;  175	
                           A  1981    ;  176	void vdp_bitmapSendData(UINT8 id, UINT1
                           A  1982    ;  177	{
040943                     A  1983    _vdp_bitmapSendData:
                           A  1984    .DEFINE "_vdp_bitmapSendData"
                           A  1985    
                           A  1986    .VALUE _vdp_bitmapSendData
                           A  1987    
                           A  1988    .CLASS 2
                           A  1989    
                           A  1990    .TYPE 65
                           A  1991    
                           A  1992    .ENDEF
                           A  1993    
                           A  1994    .BEGFUNC "vdp_bitmapSendData",177,"_vdp_bitmapS
                           A  1995    
                           A  1996    .LINE 177
                           A  1997    
                           A  1998    .DEFINE "id"
                           A  1999    
                           A  2000    .CLASS 65
                           A  2001    
                           A  2002    .VALUE 6
                           A  2003    
                           A  2004    .TYPE 12
                           A  2005    
                           A  2006    .ENDEF
                           A  2007    
                           A  2008    .DEFINE "width"
                           A  2009    
                           A  2010    .CLASS 65
                           A  2011    
                           A  2012    .VALUE 9
                           A  2013    
                           A  2014    .TYPE 13
                           A  2015    
                           A  2016    .ENDEF
                           A  2017    
                           A  2018    .DEFINE "height"
                           A  2019    
                           A  2020    .CLASS 65
                           A  2021    
                           A  2022    .VALUE 12
                           A  2023    
                           A  2024    .TYPE 13
                           A  2025    
                           A  2026    .ENDEF
                           A  2027    
                           A  2028    .DEFINE "data"
                           A  2029    
                           A  2030    .CLASS 65
                           A  2031    
                           A  2032    .VALUE 15
                           A  2033    
                           A  2034    .TYPE 47
                           A  2035    
                           A  2036    .ENDEF
                           A  2037    
040943 DDE5                A  2038    	PUSH	IX
040945 DD210000 00         A  2039    	LD	IX,0
04094A DD39                A  2040    	ADD	IX,SP
                           A  2041    ;  178		vdp_bitmapSelect(id);
                           A  2042    .LINE 178
                           A  2043    
04094C DD4E06              A  2044    	LD	C,(IX+%6)
04094F 0600                A  2045    	LD	B,%0
040951 C5                  A  2046    	PUSH	BC
040952 CD 69 08 04         A  2047    	CALL	_vdp_bitmapSelect
040956 C1                  A  2048    	POP	BC
                           A  2049    ;  179		vdp_bitmapSendDataSelected(width, h
                           A  2050    .LINE 179
                           A  2051    
040957 DD070F              A  2052    	LD	BC,(IX+%F)
04095A C5                  A  2053    	PUSH	BC
04095B DD070C              A  2054    	LD	BC,(IX+%C)
04095E C5                  A  2055    	PUSH	BC
04095F DD0709              A  2056    	LD	BC,(IX+%9)
040962 C5                  A  2057    	PUSH	BC
040963 CD A2 08 04         A  2058    	CALL	_vdp_bitmapSendDataSelected
040967 C1                  A  2059    	POP	BC
040968 C1                  A  2060    	POP	BC
040969 C1                  A  2061    	POP	BC
                           A  2062    ;  180		return;	
                           A  2063    ;  181	}
                           A  2064    .LINE 181
                           A  2065    
04096A DDF9                A  2066    	LD	SP,IX
04096C DDE1                A  2067    	POP	IX
04096E C9                  A  2068    	RET	
                           A  2069    
                           A  2070    
                           A  2071    ;**************************** _vdp_bitmapSendDa
                           A  2072    ;Name                         Addr/Register   S
                           A  2073    ;_vdp_bitmapSendDataSelected         IMPORT  --
                           A  2074    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2075    ;data                                 IX+15    
                           A  2076    ;height                               IX+12    
                           A  2077    ;width                                 IX+9    
                           A  2078    ;id                                    IX+6    
                           A  2079    
                           A  2080    
                           A  2081    ; Stack Frame Size: 18 (bytes)
                           A  2082    ;       Spill Code: 0 (instruction)
                           A  2083    
                           A  2084    
                           A  2085    .ENDFUNC "vdp_bitmapSendData",181,"_vdp_bitmapS
                           A  2086    ;  182	
                           A  2087    ;  183	void vdp_bitmapDrawSelected(UINT16 x, U
                           A  2088    ;  184	{
04096F                     A  2089    _vdp_bitmapDrawSelected:
                           A  2090    .DEFINE "_vdp_bitmapDrawSelected"
                           A  2091    
                           A  2092    .VALUE _vdp_bitmapDrawSelected
                           A  2093    
                           A  2094    .CLASS 2
                           A  2095    
                           A  2096    .TYPE 65
                           A  2097    
                           A  2098    .ENDEF
                           A  2099    
                           A  2100    .BEGFUNC "vdp_bitmapDrawSelected",184,"_vdp_bit
                           A  2101    
                           A  2102    .LINE 184
                           A  2103    
                           A  2104    .DEFINE "x"
                           A  2105    
                           A  2106    .CLASS 65
                           A  2107    
                           A  2108    .VALUE 6
                           A  2109    
                           A  2110    .TYPE 13
                           A  2111    
                           A  2112    .ENDEF
                           A  2113    
                           A  2114    .DEFINE "y"
                           A  2115    
                           A  2116    .CLASS 65
                           A  2117    
                           A  2118    .VALUE 9
                           A  2119    
                           A  2120    .TYPE 13
                           A  2121    
                           A  2122    .ENDEF
                           A  2123    
04096F DDE5                A  2124    	PUSH	IX
040971 DD210000 00         A  2125    	LD	IX,0
040976 DD39                A  2126    	ADD	IX,SP
                           A  2127    ;  185		putch(23); // vdu_sys
                           A  2128    .LINE 185
                           A  2129    
040978 01170000            A  2130    	LD	BC,23
04097C C5                  A  2131    	PUSH	BC
04097D CD BB 0F 04         A  2132    	CALL	_putch
040981 C1                  A  2133    	POP	BC
                           A  2134    ;  186		putch(27); // sprite command
                           A  2135    .LINE 186
                           A  2136    
040982 011B0000            A  2137    	LD	BC,27
040986 C5                  A  2138    	PUSH	BC
040987 CD BB 0F 04         A  2139    	CALL	_putch
04098B C1                  A  2140    	POP	BC
                           A  2141    ;  187		putch(3);  // draw selected bitmap
                           A  2142    .LINE 187
                           A  2143    
04098C 01030000            A  2144    	LD	BC,3
040990 C5                  A  2145    	PUSH	BC
040991 CD BB 0F 04         A  2146    	CALL	_putch
040995 C1                  A  2147    	POP	BC
                           A  2148    ;  188		
                           A  2149    ;  189		write16bit(x);
                           A  2150    .LINE 189
                           A  2151    
040996 DD0706              A  2152    	LD	BC,(IX+%6)
040999 C5                  A  2153    	PUSH	BC
04099A CD 80 04 04         A  2154    	CALL	_write16bit
04099E C1                  A  2155    	POP	BC
                           A  2156    ;  190		write16bit(y);
                           A  2157    .LINE 190
                           A  2158    
04099F DD0709              A  2159    	LD	BC,(IX+%9)
0409A2 C5                  A  2160    	PUSH	BC
0409A3 CD 80 04 04         A  2161    	CALL	_write16bit
0409A7 C1                  A  2162    	POP	BC
                           A  2163    ;  191		
                           A  2164    ;  192		return;
                           A  2165    ;  193	}
                           A  2166    .LINE 193
                           A  2167    
0409A8 DDF9                A  2168    	LD	SP,IX
0409AA DDE1                A  2169    	POP	IX
0409AC C9                  A  2170    	RET	
                           A  2171    
                           A  2172    
                           A  2173    ;**************************** _vdp_bitmapDrawSe
                           A  2174    ;Name                         Addr/Register   S
                           A  2175    ;_putch                              IMPORT  --
                           A  2176    ;y                                     IX+9    
                           A  2177    ;x                                     IX+6    
                           A  2178    
                           A  2179    
                           A  2180    ; Stack Frame Size: 12 (bytes)
                           A  2181    ;       Spill Code: 0 (instruction)
                           A  2182    
                           A  2183    
                           A  2184    .ENDFUNC "vdp_bitmapDrawSelected",193,"_vdp_bit
                           A  2185    ;  194	
                           A  2186    ;  195	void vdp_bitmapDraw(UINT8 id, UINT16 x,
                           A  2187    ;  196	{
0409AD                     A  2188    _vdp_bitmapDraw:
                           A  2189    .DEFINE "_vdp_bitmapDraw"
                           A  2190    
                           A  2191    .VALUE _vdp_bitmapDraw
                           A  2192    
                           A  2193    .CLASS 2
                           A  2194    
                           A  2195    .TYPE 65
                           A  2196    
                           A  2197    .ENDEF
                           A  2198    
                           A  2199    .BEGFUNC "vdp_bitmapDraw",196,"_vdp_bitmapDraw"
                           A  2200    
                           A  2201    .LINE 196
                           A  2202    
                           A  2203    .DEFINE "id"
                           A  2204    
                           A  2205    .CLASS 65
                           A  2206    
                           A  2207    .VALUE 6
                           A  2208    
                           A  2209    .TYPE 12
                           A  2210    
                           A  2211    .ENDEF
                           A  2212    
                           A  2213    .DEFINE "x"
                           A  2214    
                           A  2215    .CLASS 65
                           A  2216    
                           A  2217    .VALUE 9
                           A  2218    
                           A  2219    .TYPE 13
                           A  2220    
                           A  2221    .ENDEF
                           A  2222    
                           A  2223    .DEFINE "y"
                           A  2224    
                           A  2225    .CLASS 65
                           A  2226    
                           A  2227    .VALUE 12
                           A  2228    
                           A  2229    .TYPE 13
                           A  2230    
                           A  2231    .ENDEF
                           A  2232    
0409AD DDE5                A  2233    	PUSH	IX
0409AF DD210000 00         A  2234    	LD	IX,0
0409B4 DD39                A  2235    	ADD	IX,SP
                           A  2236    ;  197		vdp_bitmapSelect(id);
                           A  2237    .LINE 197
                           A  2238    
0409B6 DD4E06              A  2239    	LD	C,(IX+%6)
0409B9 0600                A  2240    	LD	B,%0
0409BB C5                  A  2241    	PUSH	BC
0409BC CD 69 08 04         A  2242    	CALL	_vdp_bitmapSelect
0409C0 C1                  A  2243    	POP	BC
                           A  2244    ;  198		vdp_bitmapDrawSelected(x,y);
                           A  2245    .LINE 198
                           A  2246    
0409C1 DD070C              A  2247    	LD	BC,(IX+%C)
0409C4 C5                  A  2248    	PUSH	BC
0409C5 DD0709              A  2249    	LD	BC,(IX+%9)
0409C8 C5                  A  2250    	PUSH	BC
0409C9 CD 6F 09 04         A  2251    	CALL	_vdp_bitmapDrawSelected
0409CD C1                  A  2252    	POP	BC
0409CE C1                  A  2253    	POP	BC
                           A  2254    ;  199		return;	
                           A  2255    ;  200	}
                           A  2256    .LINE 200
                           A  2257    
0409CF DDF9                A  2258    	LD	SP,IX
0409D1 DDE1                A  2259    	POP	IX
0409D3 C9                  A  2260    	RET	
                           A  2261    
                           A  2262    
                           A  2263    ;**************************** _vdp_bitmapDraw *
                           A  2264    ;Name                         Addr/Register   S
                           A  2265    ;_vdp_bitmapDrawSelected             IMPORT  --
                           A  2266    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2267    ;y                                    IX+12    
                           A  2268    ;x                                     IX+9    
                           A  2269    ;id                                    IX+6    
                           A  2270    
                           A  2271    
                           A  2272    ; Stack Frame Size: 15 (bytes)
                           A  2273    ;       Spill Code: 0 (instruction)
                           A  2274    
                           A  2275    
                           A  2276    .ENDFUNC "vdp_bitmapDraw",200,"_vdp_bitmapDraw"
                           A  2277    ;  201	
                           A  2278    ;  202	void vdp_bitmapCreateSolidColorSelected
                           A  2279    ;  203	{
0409D4                     A  2280    _vdp_bitmapCreateSolidColorSelected:
                           A  2281    .DEFINE "_vdp_bitmapCreateSolidColorSelected"
                           A  2282    
                           A  2283    .VALUE _vdp_bitmapCreateSolidColorSelected
                           A  2284    
                           A  2285    .CLASS 2
                           A  2286    
                           A  2287    .TYPE 65
                           A  2288    
                           A  2289    .ENDEF
                           A  2290    
                           A  2291    .BEGFUNC "vdp_bitmapCreateSolidColorSelected",2
                           A  2292    
                           A  2293    .LINE 203
                           A  2294    
                           A  2295    .DEFINE "width"
                           A  2296    
                           A  2297    .CLASS 65
                           A  2298    
                           A  2299    .VALUE 6
                           A  2300    
                           A  2301    .TYPE 13
                           A  2302    
                           A  2303    .ENDEF
                           A  2304    
                           A  2305    .DEFINE "height"
                           A  2306    
                           A  2307    .CLASS 65
                           A  2308    
                           A  2309    .VALUE 9
                           A  2310    
                           A  2311    .TYPE 13
                           A  2312    
                           A  2313    .ENDEF
                           A  2314    
                           A  2315    .DEFINE "abgr"
                           A  2316    
                           A  2317    .CLASS 65
                           A  2318    
                           A  2319    .VALUE 12
                           A  2320    
                           A  2321    .TYPE 15
                           A  2322    
                           A  2323    .ENDEF
                           A  2324    
0409D4 DDE5                A  2325    	PUSH	IX
0409D6 DD210000 00         A  2326    	LD	IX,0
0409DB DD39                A  2327    	ADD	IX,SP
                           A  2328    ;  204		putch(23); // vdu_sys
                           A  2329    .LINE 204
                           A  2330    
0409DD 01170000            A  2331    	LD	BC,23
0409E1 C5                  A  2332    	PUSH	BC
0409E2 CD BB 0F 04         A  2333    	CALL	_putch
0409E6 C1                  A  2334    	POP	BC
                           A  2335    ;  205		putch(27); // sprite command
                           A  2336    .LINE 205
                           A  2337    
0409E7 011B0000            A  2338    	LD	BC,27
0409EB C5                  A  2339    	PUSH	BC
0409EC CD BB 0F 04         A  2340    	CALL	_putch
0409F0 C1                  A  2341    	POP	BC
                           A  2342    ;  206		putch(2);  // define in single colo
                           A  2343    .LINE 206
                           A  2344    
0409F1 01020000            A  2345    	LD	BC,2
0409F5 C5                  A  2346    	PUSH	BC
0409F6 CD BB 0F 04         A  2347    	CALL	_putch
0409FA C1                  A  2348    	POP	BC
                           A  2349    ;  207		
                           A  2350    ;  208		write16bit(width);
                           A  2351    .LINE 208
                           A  2352    
0409FB DD0706              A  2353    	LD	BC,(IX+%6)
0409FE C5                  A  2354    	PUSH	BC
0409FF CD 80 04 04         A  2355    	CALL	_write16bit
040A03 C1                  A  2356    	POP	BC
                           A  2357    ;  209		write16bit(height);
                           A  2358    .LINE 209
                           A  2359    
040A04 DD0709              A  2360    	LD	BC,(IX+%9)
040A07 C5                  A  2361    	PUSH	BC
040A08 CD 80 04 04         A  2362    	CALL	_write16bit
040A0C C1                  A  2363    	POP	BC
                           A  2364    ;  210		write32bit(abgr);
                           A  2365    .LINE 210
                           A  2366    
040A0D DD4E0F              A  2367    	LD	C,(IX+%F)
040A10 0600                A  2368    	LD	B,%0
040A12 C5                  A  2369    	PUSH	BC
040A13 DD070C              A  2370    	LD	BC,(IX+%C)
040A16 C5                  A  2371    	PUSH	BC
040A17 CD B3 04 04         A  2372    	CALL	_write32bit
040A1B C1                  A  2373    	POP	BC
040A1C C1                  A  2374    	POP	BC
                           A  2375    ;  211		return;		
                           A  2376    ;  212	}
                           A  2377    .LINE 212
                           A  2378    
040A1D DDF9                A  2379    	LD	SP,IX
040A1F DDE1                A  2380    	POP	IX
040A21 C9                  A  2381    	RET	
                           A  2382    
                           A  2383    
                           A  2384    ;**************************** _vdp_bitmapCreate
                           A  2385    ;Name                         Addr/Register   S
                           A  2386    ;_putch                              IMPORT  --
                           A  2387    ;abgr                                 IX+12    
                           A  2388    ;height                                IX+9    
                           A  2389    ;width                                 IX+6    
                           A  2390    
                           A  2391    
                           A  2392    ; Stack Frame Size: 18 (bytes)
                           A  2393    ;       Spill Code: 0 (instruction)
                           A  2394    
                           A  2395    
                           A  2396    .ENDFUNC "vdp_bitmapCreateSolidColorSelected",2
                           A  2397    ;  213	
                           A  2398    ;  214	void vdp_bitmapCreateSolidColor(UINT8 i
                           A  2399    ;  215	{
040A22                     A  2400    _vdp_bitmapCreateSolidColor:
                           A  2401    .DEFINE "_vdp_bitmapCreateSolidColor"
                           A  2402    
                           A  2403    .VALUE _vdp_bitmapCreateSolidColor
                           A  2404    
                           A  2405    .CLASS 2
                           A  2406    
                           A  2407    .TYPE 65
                           A  2408    
                           A  2409    .ENDEF
                           A  2410    
                           A  2411    .BEGFUNC "vdp_bitmapCreateSolidColor",215,"_vdp
                           A  2412    
                           A  2413    .LINE 215
                           A  2414    
                           A  2415    .DEFINE "id"
                           A  2416    
                           A  2417    .CLASS 65
                           A  2418    
                           A  2419    .VALUE 6
                           A  2420    
                           A  2421    .TYPE 12
                           A  2422    
                           A  2423    .ENDEF
                           A  2424    
                           A  2425    .DEFINE "width"
                           A  2426    
                           A  2427    .CLASS 65
                           A  2428    
                           A  2429    .VALUE 9
                           A  2430    
                           A  2431    .TYPE 13
                           A  2432    
                           A  2433    .ENDEF
                           A  2434    
                           A  2435    .DEFINE "height"
                           A  2436    
                           A  2437    .CLASS 65
                           A  2438    
                           A  2439    .VALUE 12
                           A  2440    
                           A  2441    .TYPE 13
                           A  2442    
                           A  2443    .ENDEF
                           A  2444    
                           A  2445    .DEFINE "abgr"
                           A  2446    
                           A  2447    .CLASS 65
                           A  2448    
                           A  2449    .VALUE 15
                           A  2450    
                           A  2451    .TYPE 15
                           A  2452    
                           A  2453    .ENDEF
                           A  2454    
040A22 DDE5                A  2455    	PUSH	IX
040A24 DD210000 00         A  2456    	LD	IX,0
040A29 DD39                A  2457    	ADD	IX,SP
                           A  2458    ;  216		vdp_bitmapSelect(id);
                           A  2459    .LINE 216
                           A  2460    
040A2B DD4E06              A  2461    	LD	C,(IX+%6)
040A2E 0600                A  2462    	LD	B,%0
040A30 C5                  A  2463    	PUSH	BC
040A31 CD 69 08 04         A  2464    	CALL	_vdp_bitmapSelect
040A35 C1                  A  2465    	POP	BC
                           A  2466    ;  217		vdp_bitmapCreateSolidColorSelected(
                           A  2467    .LINE 217
                           A  2468    
040A36 DD4E12              A  2469    	LD	C,(IX+%12)
040A39 0600                A  2470    	LD	B,%0
040A3B C5                  A  2471    	PUSH	BC
040A3C DD070F              A  2472    	LD	BC,(IX+%F)
040A3F C5                  A  2473    	PUSH	BC
040A40 DD070C              A  2474    	LD	BC,(IX+%C)
040A43 C5                  A  2475    	PUSH	BC
040A44 DD0709              A  2476    	LD	BC,(IX+%9)
040A47 C5                  A  2477    	PUSH	BC
040A48 CD D4 09 04         A  2478    	CALL	_vdp_bitmapCreateSolidColorSelected
040A4C C1                  A  2479    	POP	BC
040A4D C1                  A  2480    	POP	BC
040A4E C1                  A  2481    	POP	BC
040A4F C1                  A  2482    	POP	BC
                           A  2483    ;  218		return;	
                           A  2484    ;  219	}
                           A  2485    .LINE 219
                           A  2486    
040A50 DDF9                A  2487    	LD	SP,IX
040A52 DDE1                A  2488    	POP	IX
040A54 C9                  A  2489    	RET	
                           A  2490    
                           A  2491    
                           A  2492    ;**************************** _vdp_bitmapCreate
                           A  2493    ;Name                         Addr/Register   S
                           A  2494    ;_vdp_bitmapCreateSolidColorSelected      IMPOR
                           A  2495    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2496    ;abgr                                 IX+15    
                           A  2497    ;height                               IX+12    
                           A  2498    ;width                                 IX+9    
                           A  2499    ;id                                    IX+6    
                           A  2500    
                           A  2501    
                           A  2502    ; Stack Frame Size: 21 (bytes)
                           A  2503    ;       Spill Code: 0 (instruction)
                           A  2504    
                           A  2505    
                           A  2506    .ENDFUNC "vdp_bitmapCreateSolidColor",219,"_vdp
                           A  2507    ;  220	
                           A  2508    ;  221	// Sprite VDP functions
                           A  2509    ;  222	void vdp_spriteSelect(UINT8 id)
                           A  2510    ;  223	{
040A55                     A  2511    _vdp_spriteSelect:
                           A  2512    .DEFINE "_vdp_spriteSelect"
                           A  2513    
                           A  2514    .VALUE _vdp_spriteSelect
                           A  2515    
                           A  2516    .CLASS 2
                           A  2517    
                           A  2518    .TYPE 65
                           A  2519    
                           A  2520    .ENDEF
                           A  2521    
                           A  2522    .BEGFUNC "vdp_spriteSelect",223,"_vdp_spriteSel
                           A  2523    
                           A  2524    .LINE 223
                           A  2525    
                           A  2526    .DEFINE "id"
                           A  2527    
                           A  2528    .CLASS 65
                           A  2529    
                           A  2530    .VALUE 6
                           A  2531    
                           A  2532    .TYPE 12
                           A  2533    
                           A  2534    .ENDEF
                           A  2535    
040A55 DDE5                A  2536    	PUSH	IX
040A57 DD210000 00         A  2537    	LD	IX,0
040A5C DD39                A  2538    	ADD	IX,SP
                           A  2539    ;  224		putch(23); // vdu_sys
                           A  2540    .LINE 224
                           A  2541    
040A5E 01170000            A  2542    	LD	BC,23
040A62 C5                  A  2543    	PUSH	BC
040A63 CD BB 0F 04         A  2544    	CALL	_putch
040A67 C1                  A  2545    	POP	BC
                           A  2546    ;  225		putch(27); // sprite command
                           A  2547    .LINE 225
                           A  2548    
040A68 011B0000            A  2549    	LD	BC,27
040A6C C5                  A  2550    	PUSH	BC
040A6D CD BB 0F 04         A  2551    	CALL	_putch
040A71 C1                  A  2552    	POP	BC
                           A  2553    ;  226		putch(4);  // select sprite
                           A  2554    .LINE 226
                           A  2555    
040A72 01040000            A  2556    	LD	BC,4
040A76 C5                  A  2557    	PUSH	BC
040A77 CD BB 0F 04         A  2558    	CALL	_putch
040A7B C1                  A  2559    	POP	BC
                           A  2560    ;  227		putch(id);
                           A  2561    .LINE 227
                           A  2562    
040A7C DD7E06              A  2563    	LD	A,(IX+%6)
040A7F B7ED62              A  2564    	UEXT	HL
040A82 6F                  A  2565    	LD	L,A
040A83 E5                  A  2566    	PUSH	HL
040A84 CD BB 0F 04         A  2567    	CALL	_putch
040A88 C1                  A  2568    	POP	BC
                           A  2569    ;  228		return;			
                           A  2570    ;  229	}
                           A  2571    .LINE 229
                           A  2572    
040A89 DDF9                A  2573    	LD	SP,IX
040A8B DDE1                A  2574    	POP	IX
040A8D C9                  A  2575    	RET	
                           A  2576    
                           A  2577    
                           A  2578    ;**************************** _vdp_spriteSelect
                           A  2579    ;Name                         Addr/Register   S
                           A  2580    ;_putch                              IMPORT  --
                           A  2581    ;id                                    IX+6    
                           A  2582    
                           A  2583    
                           A  2584    ; Stack Frame Size: 9 (bytes)
                           A  2585    ;       Spill Code: 0 (instruction)
                           A  2586    
                           A  2587    
                           A  2588    .ENDFUNC "vdp_spriteSelect",229,"_vdp_spriteSel
                           A  2589    ;  230	
                           A  2590    ;  231	void vdp_spriteClearFramesSelected(void
                           A  2591    ;  232	{
040A8E                     A  2592    _vdp_spriteClearFramesSelected:
                           A  2593    .DEFINE "_vdp_spriteClearFramesSelected"
                           A  2594    
                           A  2595    .VALUE _vdp_spriteClearFramesSelected
                           A  2596    
                           A  2597    .CLASS 2
                           A  2598    
                           A  2599    .TYPE 65
                           A  2600    
                           A  2601    .ENDEF
                           A  2602    
                           A  2603    .BEGFUNC "vdp_spriteClearFramesSelected",232,"_
                           A  2604    
040A8E DDE5                A  2605    	PUSH	IX
040A90 DD210000 00         A  2606    	LD	IX,0
040A95 DD39                A  2607    	ADD	IX,SP
                           A  2608    ;  233		putch(23); // vdu_sys
                           A  2609    .LINE 233
                           A  2610    
040A97 01170000            A  2611    	LD	BC,23
040A9B C5                  A  2612    	PUSH	BC
040A9C CD BB 0F 04         A  2613    	CALL	_putch
040AA0 C1                  A  2614    	POP	BC
                           A  2615    ;  234		putch(27); // sprite command
                           A  2616    .LINE 234
                           A  2617    
040AA1 011B0000            A  2618    	LD	BC,27
040AA5 C5                  A  2619    	PUSH	BC
040AA6 CD BB 0F 04         A  2620    	CALL	_putch
040AAA C1                  A  2621    	POP	BC
                           A  2622    ;  235		putch(5);  // clear frames
                           A  2623    .LINE 235
                           A  2624    
040AAB 01050000            A  2625    	LD	BC,5
040AAF C5                  A  2626    	PUSH	BC
040AB0 CD BB 0F 04         A  2627    	CALL	_putch
040AB4 C1                  A  2628    	POP	BC
                           A  2629    ;  236		return;				
                           A  2630    ;  237	}
                           A  2631    .LINE 237
                           A  2632    
040AB5 DDF9                A  2633    	LD	SP,IX
040AB7 DDE1                A  2634    	POP	IX
040AB9 C9                  A  2635    	RET	
                           A  2636    
                           A  2637    
                           A  2638    ;**************************** _vdp_spriteClearF
                           A  2639    ;Name                         Addr/Register   S
                           A  2640    ;_putch                              IMPORT  --
                           A  2641    
                           A  2642    
                           A  2643    ; Stack Frame Size: 6 (bytes)
                           A  2644    ;       Spill Code: 0 (instruction)
                           A  2645    
                           A  2646    
                           A  2647    .ENDFUNC "vdp_spriteClearFramesSelected",237,"_
                           A  2648    ;  238	
                           A  2649    ;  239	void vdp_spriteClearFrames(UINT8 bitmap
                           A  2650    ;  240	{
040ABA                     A  2651    _vdp_spriteClearFrames:
                           A  2652    .DEFINE "_vdp_spriteClearFrames"
                           A  2653    
                           A  2654    .VALUE _vdp_spriteClearFrames
                           A  2655    
                           A  2656    .CLASS 2
                           A  2657    
                           A  2658    .TYPE 65
                           A  2659    
                           A  2660    .ENDEF
                           A  2661    
                           A  2662    .BEGFUNC "vdp_spriteClearFrames",240,"_vdp_spri
                           A  2663    
                           A  2664    .LINE 240
                           A  2665    
                           A  2666    .DEFINE "bitmapid"
                           A  2667    
                           A  2668    .CLASS 65
                           A  2669    
                           A  2670    .VALUE 6
                           A  2671    
                           A  2672    .TYPE 12
                           A  2673    
                           A  2674    .ENDEF
                           A  2675    
040ABA DDE5                A  2676    	PUSH	IX
040ABC DD210000 00         A  2677    	LD	IX,0
040AC1 DD39                A  2678    	ADD	IX,SP
                           A  2679    ;  241		vdp_spriteSelect(bitmapid);
                           A  2680    .LINE 241
                           A  2681    
040AC3 DD4E06              A  2682    	LD	C,(IX+%6)
040AC6 0600                A  2683    	LD	B,%0
040AC8 C5                  A  2684    	PUSH	BC
040AC9 CD 55 0A 04         A  2685    	CALL	_vdp_spriteSelect
040ACD C1                  A  2686    	POP	BC
                           A  2687    ;  242		vdp_spriteClearFramesSelected();
                           A  2688    .LINE 242
                           A  2689    
040ACE CD 8E 0A 04         A  2690    	CALL	_vdp_spriteClearFramesSelected
                           A  2691    ;  243		return;				
                           A  2692    ;  244	}
                           A  2693    .LINE 244
                           A  2694    
040AD2 DDF9                A  2695    	LD	SP,IX
040AD4 DDE1                A  2696    	POP	IX
040AD6 C9                  A  2697    	RET	
                           A  2698    
                           A  2699    
                           A  2700    ;**************************** _vdp_spriteClearF
                           A  2701    ;Name                         Addr/Register   S
                           A  2702    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  2703    ;_vdp_spriteSelect                   IMPORT  --
                           A  2704    ;bitmapid                              IX+6    
                           A  2705    
                           A  2706    
                           A  2707    ; Stack Frame Size: 9 (bytes)
                           A  2708    ;       Spill Code: 0 (instruction)
                           A  2709    
                           A  2710    
                           A  2711    .ENDFUNC "vdp_spriteClearFrames",244,"_vdp_spri
                           A  2712    ;  245	
                           A  2713    ;  246	void vdp_spriteAddFrameSelected(UINT8 b
                           A  2714    ;  247	{
040AD7                     A  2715    _vdp_spriteAddFrameSelected:
                           A  2716    .DEFINE "_vdp_spriteAddFrameSelected"
                           A  2717    
                           A  2718    .VALUE _vdp_spriteAddFrameSelected
                           A  2719    
                           A  2720    .CLASS 2
                           A  2721    
                           A  2722    .TYPE 65
                           A  2723    
                           A  2724    .ENDEF
                           A  2725    
                           A  2726    .BEGFUNC "vdp_spriteAddFrameSelected",247,"_vdp
                           A  2727    
                           A  2728    .LINE 247
                           A  2729    
                           A  2730    .DEFINE "bitmapid"
                           A  2731    
                           A  2732    .CLASS 65
                           A  2733    
                           A  2734    .VALUE 6
                           A  2735    
                           A  2736    .TYPE 12
                           A  2737    
                           A  2738    .ENDEF
                           A  2739    
040AD7 DDE5                A  2740    	PUSH	IX
040AD9 DD210000 00         A  2741    	LD	IX,0
040ADE DD39                A  2742    	ADD	IX,SP
                           A  2743    ;  248		putch(23); // vdu_sys
                           A  2744    .LINE 248
                           A  2745    
040AE0 01170000            A  2746    	LD	BC,23
040AE4 C5                  A  2747    	PUSH	BC
040AE5 CD BB 0F 04         A  2748    	CALL	_putch
040AE9 C1                  A  2749    	POP	BC
                           A  2750    ;  249		putch(27); // sprite command
                           A  2751    .LINE 249
                           A  2752    
040AEA 011B0000            A  2753    	LD	BC,27
040AEE C5                  A  2754    	PUSH	BC
040AEF CD BB 0F 04         A  2755    	CALL	_putch
040AF3 C1                  A  2756    	POP	BC
                           A  2757    ;  250		putch(6);  // add frame
                           A  2758    .LINE 250
                           A  2759    
040AF4 01060000            A  2760    	LD	BC,6
040AF8 C5                  A  2761    	PUSH	BC
040AF9 CD BB 0F 04         A  2762    	CALL	_putch
040AFD C1                  A  2763    	POP	BC
                           A  2764    ;  251		putch(bitmapid);
                           A  2765    .LINE 251
                           A  2766    
040AFE DD7E06              A  2767    	LD	A,(IX+%6)
040B01 B7ED62              A  2768    	UEXT	HL
040B04 6F                  A  2769    	LD	L,A
040B05 E5                  A  2770    	PUSH	HL
040B06 CD BB 0F 04         A  2771    	CALL	_putch
040B0A C1                  A  2772    	POP	BC
                           A  2773    ;  252		return;	
                           A  2774    ;  253	}
                           A  2775    .LINE 253
                           A  2776    
040B0B DDF9                A  2777    	LD	SP,IX
040B0D DDE1                A  2778    	POP	IX
040B0F C9                  A  2779    	RET	
                           A  2780    
                           A  2781    
                           A  2782    ;**************************** _vdp_spriteAddFra
                           A  2783    ;Name                         Addr/Register   S
                           A  2784    ;_putch                              IMPORT  --
                           A  2785    ;bitmapid                              IX+6    
                           A  2786    
                           A  2787    
                           A  2788    ; Stack Frame Size: 9 (bytes)
                           A  2789    ;       Spill Code: 0 (instruction)
                           A  2790    
                           A  2791    
                           A  2792    .ENDFUNC "vdp_spriteAddFrameSelected",253,"_vdp
                           A  2793    ;  254	
                           A  2794    ;  255	void vdp_spriteAddFrame(UINT8 id, UINT8
                           A  2795    ;  256	{
040B10                     A  2796    _vdp_spriteAddFrame:
                           A  2797    .DEFINE "_vdp_spriteAddFrame"
                           A  2798    
                           A  2799    .VALUE _vdp_spriteAddFrame
                           A  2800    
                           A  2801    .CLASS 2
                           A  2802    
                           A  2803    .TYPE 65
                           A  2804    
                           A  2805    .ENDEF
                           A  2806    
                           A  2807    .BEGFUNC "vdp_spriteAddFrame",256,"_vdp_spriteA
                           A  2808    
                           A  2809    .LINE 256
                           A  2810    
                           A  2811    .DEFINE "id"
                           A  2812    
                           A  2813    .CLASS 65
                           A  2814    
                           A  2815    .VALUE 6
                           A  2816    
                           A  2817    .TYPE 12
                           A  2818    
                           A  2819    .ENDEF
                           A  2820    
                           A  2821    .DEFINE "bitmapid"
                           A  2822    
                           A  2823    .CLASS 65
                           A  2824    
                           A  2825    .VALUE 9
                           A  2826    
                           A  2827    .TYPE 12
                           A  2828    
                           A  2829    .ENDEF
                           A  2830    
040B10 DDE5                A  2831    	PUSH	IX
040B12 DD210000 00         A  2832    	LD	IX,0
040B17 DD39                A  2833    	ADD	IX,SP
                           A  2834    ;  257		vdp_spriteSelect(id);
                           A  2835    .LINE 257
                           A  2836    
040B19 DD4E06              A  2837    	LD	C,(IX+%6)
040B1C 0600                A  2838    	LD	B,%0
040B1E C5                  A  2839    	PUSH	BC
040B1F CD 55 0A 04         A  2840    	CALL	_vdp_spriteSelect
040B23 C1                  A  2841    	POP	BC
                           A  2842    ;  258		vdp_spriteAddFrameSelected(bitmapid
                           A  2843    .LINE 258
                           A  2844    
040B24 DD4E09              A  2845    	LD	C,(IX+%9)
040B27 0600                A  2846    	LD	B,%0
040B29 C5                  A  2847    	PUSH	BC
040B2A CD D7 0A 04         A  2848    	CALL	_vdp_spriteAddFrameSelected
040B2E C1                  A  2849    	POP	BC
                           A  2850    ;  259		return;	
                           A  2851    ;  260	}
                           A  2852    .LINE 260
                           A  2853    
040B2F DDF9                A  2854    	LD	SP,IX
040B31 DDE1                A  2855    	POP	IX
040B33 C9                  A  2856    	RET	
                           A  2857    
                           A  2858    
                           A  2859    ;**************************** _vdp_spriteAddFra
                           A  2860    ;Name                         Addr/Register   S
                           A  2861    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  2862    ;_vdp_spriteSelect                   IMPORT  --
                           A  2863    ;bitmapid                              IX+9    
                           A  2864    ;id                                    IX+6    
                           A  2865    
                           A  2866    
                           A  2867    ; Stack Frame Size: 12 (bytes)
                           A  2868    ;       Spill Code: 0 (instruction)
                           A  2869    
                           A  2870    
                           A  2871    .ENDFUNC "vdp_spriteAddFrame",260,"_vdp_spriteA
                           A  2872    ;  261	
                           A  2873    ;  262	void vdp_spriteNextFrameSelected(void)
                           A  2874    ;  263	{
040B34                     A  2875    _vdp_spriteNextFrameSelected:
                           A  2876    .DEFINE "_vdp_spriteNextFrameSelected"
                           A  2877    
                           A  2878    .VALUE _vdp_spriteNextFrameSelected
                           A  2879    
                           A  2880    .CLASS 2
                           A  2881    
                           A  2882    .TYPE 65
                           A  2883    
                           A  2884    .ENDEF
                           A  2885    
                           A  2886    .BEGFUNC "vdp_spriteNextFrameSelected",263,"_vd
                           A  2887    
040B34 DDE5                A  2888    	PUSH	IX
040B36 DD210000 00         A  2889    	LD	IX,0
040B3B DD39                A  2890    	ADD	IX,SP
                           A  2891    ;  264		putch(23); // vdu_sys
                           A  2892    .LINE 264
                           A  2893    
040B3D 01170000            A  2894    	LD	BC,23
040B41 C5                  A  2895    	PUSH	BC
040B42 CD BB 0F 04         A  2896    	CALL	_putch
040B46 C1                  A  2897    	POP	BC
                           A  2898    ;  265		putch(27); // sprite command
                           A  2899    .LINE 265
                           A  2900    
040B47 011B0000            A  2901    	LD	BC,27
040B4B C5                  A  2902    	PUSH	BC
040B4C CD BB 0F 04         A  2903    	CALL	_putch
040B50 C1                  A  2904    	POP	BC
                           A  2905    ;  266		putch(8);  // next frame
                           A  2906    .LINE 266
                           A  2907    
040B51 01080000            A  2908    	LD	BC,8
040B55 C5                  A  2909    	PUSH	BC
040B56 CD BB 0F 04         A  2910    	CALL	_putch
040B5A C1                  A  2911    	POP	BC
                           A  2912    ;  267		return;			
                           A  2913    ;  268	}
                           A  2914    .LINE 268
                           A  2915    
040B5B DDF9                A  2916    	LD	SP,IX
040B5D DDE1                A  2917    	POP	IX
040B5F C9                  A  2918    	RET	
                           A  2919    
                           A  2920    
                           A  2921    ;**************************** _vdp_spriteNextFr
                           A  2922    ;Name                         Addr/Register   S
                           A  2923    ;_putch                              IMPORT  --
                           A  2924    
                           A  2925    
                           A  2926    ; Stack Frame Size: 6 (bytes)
                           A  2927    ;       Spill Code: 0 (instruction)
                           A  2928    
                           A  2929    
                           A  2930    .ENDFUNC "vdp_spriteNextFrameSelected",268,"_vd
                           A  2931    ;  269	
                           A  2932    ;  270	void vdp_spriteNextFrame(UINT8 id)
                           A  2933    ;  271	{
040B60                     A  2934    _vdp_spriteNextFrame:
                           A  2935    .DEFINE "_vdp_spriteNextFrame"
                           A  2936    
                           A  2937    .VALUE _vdp_spriteNextFrame
                           A  2938    
                           A  2939    .CLASS 2
                           A  2940    
                           A  2941    .TYPE 65
                           A  2942    
                           A  2943    .ENDEF
                           A  2944    
                           A  2945    .BEGFUNC "vdp_spriteNextFrame",271,"_vdp_sprite
                           A  2946    
                           A  2947    .LINE 271
                           A  2948    
                           A  2949    .DEFINE "id"
                           A  2950    
                           A  2951    .CLASS 65
                           A  2952    
                           A  2953    .VALUE 6
                           A  2954    
                           A  2955    .TYPE 12
                           A  2956    
                           A  2957    .ENDEF
                           A  2958    
040B60 DDE5                A  2959    	PUSH	IX
040B62 DD210000 00         A  2960    	LD	IX,0
040B67 DD39                A  2961    	ADD	IX,SP
                           A  2962    ;  272		vdp_spriteSelect(id);
                           A  2963    .LINE 272
                           A  2964    
040B69 DD4E06              A  2965    	LD	C,(IX+%6)
040B6C 0600                A  2966    	LD	B,%0
040B6E C5                  A  2967    	PUSH	BC
040B6F CD 55 0A 04         A  2968    	CALL	_vdp_spriteSelect
040B73 C1                  A  2969    	POP	BC
                           A  2970    ;  273		vdp_spriteNextFrameSelected();
                           A  2971    .LINE 273
                           A  2972    
040B74 CD 34 0B 04         A  2973    	CALL	_vdp_spriteNextFrameSelected
                           A  2974    ;  274		return;
                           A  2975    ;  275	}
                           A  2976    .LINE 275
                           A  2977    
040B78 DDF9                A  2978    	LD	SP,IX
040B7A DDE1                A  2979    	POP	IX
040B7C C9                  A  2980    	RET	
                           A  2981    
                           A  2982    
                           A  2983    ;**************************** _vdp_spriteNextFr
                           A  2984    ;Name                         Addr/Register   S
                           A  2985    ;_vdp_spriteNextFrameSelected        IMPORT  --
                           A  2986    ;_vdp_spriteSelect                   IMPORT  --
                           A  2987    ;id                                    IX+6    
                           A  2988    
                           A  2989    
                           A  2990    ; Stack Frame Size: 9 (bytes)
                           A  2991    ;       Spill Code: 0 (instruction)
                           A  2992    
                           A  2993    
                           A  2994    .ENDFUNC "vdp_spriteNextFrame",275,"_vdp_sprite
                           A  2995    ;  276	
                           A  2996    ;  277	void vdp_spritePreviousFrameSelected(vo
                           A  2997    ;  278	{
040B7D                     A  2998    _vdp_spritePreviousFrameSelected:
                           A  2999    .DEFINE "_vdp_spritePreviousFrameSelected"
                           A  3000    
                           A  3001    .VALUE _vdp_spritePreviousFrameSelected
                           A  3002    
                           A  3003    .CLASS 2
                           A  3004    
                           A  3005    .TYPE 65
                           A  3006    
                           A  3007    .ENDEF
                           A  3008    
                           A  3009    .BEGFUNC "vdp_spritePreviousFrameSelected",278,
                           A  3010    
040B7D DDE5                A  3011    	PUSH	IX
040B7F DD210000 00         A  3012    	LD	IX,0
040B84 DD39                A  3013    	ADD	IX,SP
                           A  3014    ;  279		putch(23); // vdu_sys
                           A  3015    .LINE 279
                           A  3016    
040B86 01170000            A  3017    	LD	BC,23
040B8A C5                  A  3018    	PUSH	BC
040B8B CD BB 0F 04         A  3019    	CALL	_putch
040B8F C1                  A  3020    	POP	BC
                           A  3021    ;  280		putch(27); // sprite command
                           A  3022    .LINE 280
                           A  3023    
040B90 011B0000            A  3024    	LD	BC,27
040B94 C5                  A  3025    	PUSH	BC
040B95 CD BB 0F 04         A  3026    	CALL	_putch
040B99 C1                  A  3027    	POP	BC
                           A  3028    ;  281		putch(9); // previous frame
                           A  3029    .LINE 281
                           A  3030    
040B9A 01090000            A  3031    	LD	BC,9
040B9E C5                  A  3032    	PUSH	BC
040B9F CD BB 0F 04         A  3033    	CALL	_putch
040BA3 C1                  A  3034    	POP	BC
                           A  3035    ;  282		return;	
                           A  3036    ;  283	}
                           A  3037    .LINE 283
                           A  3038    
040BA4 DDF9                A  3039    	LD	SP,IX
040BA6 DDE1                A  3040    	POP	IX
040BA8 C9                  A  3041    	RET	
                           A  3042    
                           A  3043    
                           A  3044    ;**************************** _vdp_spritePrevio
                           A  3045    ;Name                         Addr/Register   S
                           A  3046    ;_putch                              IMPORT  --
                           A  3047    
                           A  3048    
                           A  3049    ; Stack Frame Size: 6 (bytes)
                           A  3050    ;       Spill Code: 0 (instruction)
                           A  3051    
                           A  3052    
                           A  3053    .ENDFUNC "vdp_spritePreviousFrameSelected",283,
                           A  3054    ;  284	
                           A  3055    ;  285	void vdp_spritePreviousFrame(UINT8 id)
                           A  3056    ;  286	{
040BA9                     A  3057    _vdp_spritePreviousFrame:
                           A  3058    .DEFINE "_vdp_spritePreviousFrame"
                           A  3059    
                           A  3060    .VALUE _vdp_spritePreviousFrame
                           A  3061    
                           A  3062    .CLASS 2
                           A  3063    
                           A  3064    .TYPE 65
                           A  3065    
                           A  3066    .ENDEF
                           A  3067    
                           A  3068    .BEGFUNC "vdp_spritePreviousFrame",286,"_vdp_sp
                           A  3069    
                           A  3070    .LINE 286
                           A  3071    
                           A  3072    .DEFINE "id"
                           A  3073    
                           A  3074    .CLASS 65
                           A  3075    
                           A  3076    .VALUE 6
                           A  3077    
                           A  3078    .TYPE 12
                           A  3079    
                           A  3080    .ENDEF
                           A  3081    
040BA9 DDE5                A  3082    	PUSH	IX
040BAB DD210000 00         A  3083    	LD	IX,0
040BB0 DD39                A  3084    	ADD	IX,SP
                           A  3085    ;  287		vdp_spriteSelect(id);
                           A  3086    .LINE 287
                           A  3087    
040BB2 DD4E06              A  3088    	LD	C,(IX+%6)
040BB5 0600                A  3089    	LD	B,%0
040BB7 C5                  A  3090    	PUSH	BC
040BB8 CD 55 0A 04         A  3091    	CALL	_vdp_spriteSelect
040BBC C1                  A  3092    	POP	BC
                           A  3093    ;  288		vdp_spritePreviousFrameSelected();
                           A  3094    .LINE 288
                           A  3095    
040BBD CD 7D 0B 04         A  3096    	CALL	_vdp_spritePreviousFrameSelected
                           A  3097    ;  289		return;
                           A  3098    ;  290	}
                           A  3099    .LINE 290
                           A  3100    
040BC1 DDF9                A  3101    	LD	SP,IX
040BC3 DDE1                A  3102    	POP	IX
040BC5 C9                  A  3103    	RET	
                           A  3104    
                           A  3105    
                           A  3106    ;**************************** _vdp_spritePrevio
                           A  3107    ;Name                         Addr/Register   S
                           A  3108    ;_vdp_spritePreviousFrameSelected      IMPORT  
                           A  3109    ;_vdp_spriteSelect                   IMPORT  --
                           A  3110    ;id                                    IX+6    
                           A  3111    
                           A  3112    
                           A  3113    ; Stack Frame Size: 9 (bytes)
                           A  3114    ;       Spill Code: 0 (instruction)
                           A  3115    
                           A  3116    
                           A  3117    .ENDFUNC "vdp_spritePreviousFrame",290,"_vdp_sp
                           A  3118    ;  291	
                           A  3119    ;  292	void vdp_spriteSetFrameSelected(UINT8 f
                           A  3120    ;  293	{
040BC6                     A  3121    _vdp_spriteSetFrameSelected:
                           A  3122    .DEFINE "_vdp_spriteSetFrameSelected"
                           A  3123    
                           A  3124    .VALUE _vdp_spriteSetFrameSelected
                           A  3125    
                           A  3126    .CLASS 2
                           A  3127    
                           A  3128    .TYPE 65
                           A  3129    
                           A  3130    .ENDEF
                           A  3131    
                           A  3132    .BEGFUNC "vdp_spriteSetFrameSelected",293,"_vdp
                           A  3133    
                           A  3134    .LINE 293
                           A  3135    
                           A  3136    .DEFINE "framenumber"
                           A  3137    
                           A  3138    .CLASS 65
                           A  3139    
                           A  3140    .VALUE 6
                           A  3141    
                           A  3142    .TYPE 12
                           A  3143    
                           A  3144    .ENDEF
                           A  3145    
040BC6 DDE5                A  3146    	PUSH	IX
040BC8 DD210000 00         A  3147    	LD	IX,0
040BCD DD39                A  3148    	ADD	IX,SP
                           A  3149    ;  294		putch(23); // vdu_sys
                           A  3150    .LINE 294
                           A  3151    
040BCF 01170000            A  3152    	LD	BC,23
040BD3 C5                  A  3153    	PUSH	BC
040BD4 CD BB 0F 04         A  3154    	CALL	_putch
040BD8 C1                  A  3155    	POP	BC
                           A  3156    ;  295		putch(27); // sprite command
                           A  3157    .LINE 295
                           A  3158    
040BD9 011B0000            A  3159    	LD	BC,27
040BDD C5                  A  3160    	PUSH	BC
040BDE CD BB 0F 04         A  3161    	CALL	_putch
040BE2 C1                  A  3162    	POP	BC
                           A  3163    ;  296		putch(10); // set current frame
                           A  3164    .LINE 296
                           A  3165    
040BE3 010A0000            A  3166    	LD	BC,10
040BE7 C5                  A  3167    	PUSH	BC
040BE8 CD BB 0F 04         A  3168    	CALL	_putch
040BEC C1                  A  3169    	POP	BC
                           A  3170    ;  297		putch(framenumber);
                           A  3171    .LINE 297
                           A  3172    
040BED DD7E06              A  3173    	LD	A,(IX+%6)
040BF0 B7ED62              A  3174    	UEXT	HL
040BF3 6F                  A  3175    	LD	L,A
040BF4 E5                  A  3176    	PUSH	HL
040BF5 CD BB 0F 04         A  3177    	CALL	_putch
040BF9 C1                  A  3178    	POP	BC
                           A  3179    ;  298		return;	
                           A  3180    ;  299	}
                           A  3181    .LINE 299
                           A  3182    
040BFA DDF9                A  3183    	LD	SP,IX
040BFC DDE1                A  3184    	POP	IX
040BFE C9                  A  3185    	RET	
                           A  3186    
                           A  3187    
                           A  3188    ;**************************** _vdp_spriteSetFra
                           A  3189    ;Name                         Addr/Register   S
                           A  3190    ;_putch                              IMPORT  --
                           A  3191    ;framenumber                           IX+6    
                           A  3192    
                           A  3193    
                           A  3194    ; Stack Frame Size: 9 (bytes)
                           A  3195    ;       Spill Code: 0 (instruction)
                           A  3196    
                           A  3197    
                           A  3198    .ENDFUNC "vdp_spriteSetFrameSelected",299,"_vdp
                           A  3199    ;  300	
                           A  3200    ;  301	void vdp_spriteSetFrame(UINT8 id, UINT8
                           A  3201    ;  302	{
040BFF                     A  3202    _vdp_spriteSetFrame:
                           A  3203    .DEFINE "_vdp_spriteSetFrame"
                           A  3204    
                           A  3205    .VALUE _vdp_spriteSetFrame
                           A  3206    
                           A  3207    .CLASS 2
                           A  3208    
                           A  3209    .TYPE 65
                           A  3210    
                           A  3211    .ENDEF
                           A  3212    
                           A  3213    .BEGFUNC "vdp_spriteSetFrame",302,"_vdp_spriteS
                           A  3214    
                           A  3215    .LINE 302
                           A  3216    
                           A  3217    .DEFINE "id"
                           A  3218    
                           A  3219    .CLASS 65
                           A  3220    
                           A  3221    .VALUE 6
                           A  3222    
                           A  3223    .TYPE 12
                           A  3224    
                           A  3225    .ENDEF
                           A  3226    
                           A  3227    .DEFINE "framenumber"
                           A  3228    
                           A  3229    .CLASS 65
                           A  3230    
                           A  3231    .VALUE 9
                           A  3232    
                           A  3233    .TYPE 12
                           A  3234    
                           A  3235    .ENDEF
                           A  3236    
040BFF DDE5                A  3237    	PUSH	IX
040C01 DD210000 00         A  3238    	LD	IX,0
040C06 DD39                A  3239    	ADD	IX,SP
                           A  3240    ;  303		vdp_spriteSelect(id);
                           A  3241    .LINE 303
                           A  3242    
040C08 DD4E06              A  3243    	LD	C,(IX+%6)
040C0B 0600                A  3244    	LD	B,%0
040C0D C5                  A  3245    	PUSH	BC
040C0E CD 55 0A 04         A  3246    	CALL	_vdp_spriteSelect
040C12 C1                  A  3247    	POP	BC
                           A  3248    ;  304		vdp_spriteSetFrameSelected(framenum
                           A  3249    .LINE 304
                           A  3250    
040C13 DD4E09              A  3251    	LD	C,(IX+%9)
040C16 0600                A  3252    	LD	B,%0
040C18 C5                  A  3253    	PUSH	BC
040C19 CD C6 0B 04         A  3254    	CALL	_vdp_spriteSetFrameSelected
040C1D C1                  A  3255    	POP	BC
                           A  3256    ;  305		return;
                           A  3257    ;  306	}
                           A  3258    .LINE 306
                           A  3259    
040C1E DDF9                A  3260    	LD	SP,IX
040C20 DDE1                A  3261    	POP	IX
040C22 C9                  A  3262    	RET	
                           A  3263    
                           A  3264    
                           A  3265    ;**************************** _vdp_spriteSetFra
                           A  3266    ;Name                         Addr/Register   S
                           A  3267    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3268    ;_vdp_spriteSelect                   IMPORT  --
                           A  3269    ;framenumber                           IX+9    
                           A  3270    ;id                                    IX+6    
                           A  3271    
                           A  3272    
                           A  3273    ; Stack Frame Size: 12 (bytes)
                           A  3274    ;       Spill Code: 0 (instruction)
                           A  3275    
                           A  3276    
                           A  3277    .ENDFUNC "vdp_spriteSetFrame",306,"_vdp_spriteS
                           A  3278    ;  307	
                           A  3279    ;  308	void vdp_spriteShowSelected(void)
                           A  3280    ;  309	{
040C23                     A  3281    _vdp_spriteShowSelected:
                           A  3282    .DEFINE "_vdp_spriteShowSelected"
                           A  3283    
                           A  3284    .VALUE _vdp_spriteShowSelected
                           A  3285    
                           A  3286    .CLASS 2
                           A  3287    
                           A  3288    .TYPE 65
                           A  3289    
                           A  3290    .ENDEF
                           A  3291    
                           A  3292    .BEGFUNC "vdp_spriteShowSelected",309,"_vdp_spr
                           A  3293    
040C23 DDE5                A  3294    	PUSH	IX
040C25 DD210000 00         A  3295    	LD	IX,0
040C2A DD39                A  3296    	ADD	IX,SP
                           A  3297    ;  310		putch(23); // vdu_sys
                           A  3298    .LINE 310
                           A  3299    
040C2C 01170000            A  3300    	LD	BC,23
040C30 C5                  A  3301    	PUSH	BC
040C31 CD BB 0F 04         A  3302    	CALL	_putch
040C35 C1                  A  3303    	POP	BC
                           A  3304    ;  311		putch(27); // sprite command
                           A  3305    .LINE 311
                           A  3306    
040C36 011B0000            A  3307    	LD	BC,27
040C3A C5                  A  3308    	PUSH	BC
040C3B CD BB 0F 04         A  3309    	CALL	_putch
040C3F C1                  A  3310    	POP	BC
                           A  3311    ;  312		putch(11); // show sprite
                           A  3312    .LINE 312
                           A  3313    
040C40 010B0000            A  3314    	LD	BC,11
040C44 C5                  A  3315    	PUSH	BC
040C45 CD BB 0F 04         A  3316    	CALL	_putch
040C49 C1                  A  3317    	POP	BC
                           A  3318    ;  313		return;			
                           A  3319    ;  314	}
                           A  3320    .LINE 314
                           A  3321    
040C4A DDF9                A  3322    	LD	SP,IX
040C4C DDE1                A  3323    	POP	IX
040C4E C9                  A  3324    	RET	
                           A  3325    
                           A  3326    
                           A  3327    ;**************************** _vdp_spriteShowSe
                           A  3328    ;Name                         Addr/Register   S
                           A  3329    ;_putch                              IMPORT  --
                           A  3330    
                           A  3331    
                           A  3332    ; Stack Frame Size: 6 (bytes)
                           A  3333    ;       Spill Code: 0 (instruction)
                           A  3334    
                           A  3335    
                           A  3336    .ENDFUNC "vdp_spriteShowSelected",314,"_vdp_spr
                           A  3337    ;  315	
                           A  3338    ;  316	void vdp_spriteShow(UINT8 id)
                           A  3339    ;  317	{
040C4F                     A  3340    _vdp_spriteShow:
                           A  3341    .DEFINE "_vdp_spriteShow"
                           A  3342    
                           A  3343    .VALUE _vdp_spriteShow
                           A  3344    
                           A  3345    .CLASS 2
                           A  3346    
                           A  3347    .TYPE 65
                           A  3348    
                           A  3349    .ENDEF
                           A  3350    
                           A  3351    .BEGFUNC "vdp_spriteShow",317,"_vdp_spriteShow"
                           A  3352    
                           A  3353    .LINE 317
                           A  3354    
                           A  3355    .DEFINE "id"
                           A  3356    
                           A  3357    .CLASS 65
                           A  3358    
                           A  3359    .VALUE 6
                           A  3360    
                           A  3361    .TYPE 12
                           A  3362    
                           A  3363    .ENDEF
                           A  3364    
040C4F DDE5                A  3365    	PUSH	IX
040C51 DD210000 00         A  3366    	LD	IX,0
040C56 DD39                A  3367    	ADD	IX,SP
                           A  3368    ;  318		vdp_spriteSelect(id);
                           A  3369    .LINE 318
                           A  3370    
040C58 DD4E06              A  3371    	LD	C,(IX+%6)
040C5B 0600                A  3372    	LD	B,%0
040C5D C5                  A  3373    	PUSH	BC
040C5E CD 55 0A 04         A  3374    	CALL	_vdp_spriteSelect
040C62 C1                  A  3375    	POP	BC
                           A  3376    ;  319		vdp_spriteShowSelected();
                           A  3377    .LINE 319
                           A  3378    
040C63 CD 23 0C 04         A  3379    	CALL	_vdp_spriteShowSelected
                           A  3380    ;  320		return;
                           A  3381    ;  321	}
                           A  3382    .LINE 321
                           A  3383    
040C67 DDF9                A  3384    	LD	SP,IX
040C69 DDE1                A  3385    	POP	IX
040C6B C9                  A  3386    	RET	
                           A  3387    
                           A  3388    
                           A  3389    ;**************************** _vdp_spriteShow *
                           A  3390    ;Name                         Addr/Register   S
                           A  3391    ;_vdp_spriteShowSelected             IMPORT  --
                           A  3392    ;_vdp_spriteSelect                   IMPORT  --
                           A  3393    ;id                                    IX+6    
                           A  3394    
                           A  3395    
                           A  3396    ; Stack Frame Size: 9 (bytes)
                           A  3397    ;       Spill Code: 0 (instruction)
                           A  3398    
                           A  3399    
                           A  3400    .ENDFUNC "vdp_spriteShow",321,"_vdp_spriteShow"
                           A  3401    ;  322	
                           A  3402    ;  323	void vdp_spriteHideSelected(void)
                           A  3403    ;  324	{
040C6C                     A  3404    _vdp_spriteHideSelected:
                           A  3405    .DEFINE "_vdp_spriteHideSelected"
                           A  3406    
                           A  3407    .VALUE _vdp_spriteHideSelected
                           A  3408    
                           A  3409    .CLASS 2
                           A  3410    
                           A  3411    .TYPE 65
                           A  3412    
                           A  3413    .ENDEF
                           A  3414    
                           A  3415    .BEGFUNC "vdp_spriteHideSelected",324,"_vdp_spr
                           A  3416    
040C6C DDE5                A  3417    	PUSH	IX
040C6E DD210000 00         A  3418    	LD	IX,0
040C73 DD39                A  3419    	ADD	IX,SP
                           A  3420    ;  325		putch(23); // vdu_sys
                           A  3421    .LINE 325
                           A  3422    
040C75 01170000            A  3423    	LD	BC,23
040C79 C5                  A  3424    	PUSH	BC
040C7A CD BB 0F 04         A  3425    	CALL	_putch
040C7E C1                  A  3426    	POP	BC
                           A  3427    ;  326		putch(27); // sprite command
                           A  3428    .LINE 326
                           A  3429    
040C7F 011B0000            A  3430    	LD	BC,27
040C83 C5                  A  3431    	PUSH	BC
040C84 CD BB 0F 04         A  3432    	CALL	_putch
040C88 C1                  A  3433    	POP	BC
                           A  3434    ;  327		putch(12); // hide sprite
                           A  3435    .LINE 327
                           A  3436    
040C89 010C0000            A  3437    	LD	BC,12
040C8D C5                  A  3438    	PUSH	BC
040C8E CD BB 0F 04         A  3439    	CALL	_putch
040C92 C1                  A  3440    	POP	BC
                           A  3441    ;  328		return;		
                           A  3442    ;  329	}
                           A  3443    .LINE 329
                           A  3444    
040C93 DDF9                A  3445    	LD	SP,IX
040C95 DDE1                A  3446    	POP	IX
040C97 C9                  A  3447    	RET	
                           A  3448    
                           A  3449    
                           A  3450    ;**************************** _vdp_spriteHideSe
                           A  3451    ;Name                         Addr/Register   S
                           A  3452    ;_putch                              IMPORT  --
                           A  3453    
                           A  3454    
                           A  3455    ; Stack Frame Size: 6 (bytes)
                           A  3456    ;       Spill Code: 0 (instruction)
                           A  3457    
                           A  3458    
                           A  3459    .ENDFUNC "vdp_spriteHideSelected",329,"_vdp_spr
                           A  3460    ;  330	
                           A  3461    ;  331	void vdp_spriteHide(UINT8 id)
                           A  3462    ;  332	{
040C98                     A  3463    _vdp_spriteHide:
                           A  3464    .DEFINE "_vdp_spriteHide"
                           A  3465    
                           A  3466    .VALUE _vdp_spriteHide
                           A  3467    
                           A  3468    .CLASS 2
                           A  3469    
                           A  3470    .TYPE 65
                           A  3471    
                           A  3472    .ENDEF
                           A  3473    
                           A  3474    .BEGFUNC "vdp_spriteHide",332,"_vdp_spriteHide"
                           A  3475    
                           A  3476    .LINE 332
                           A  3477    
                           A  3478    .DEFINE "id"
                           A  3479    
                           A  3480    .CLASS 65
                           A  3481    
                           A  3482    .VALUE 6
                           A  3483    
                           A  3484    .TYPE 12
                           A  3485    
                           A  3486    .ENDEF
                           A  3487    
040C98 DDE5                A  3488    	PUSH	IX
040C9A DD210000 00         A  3489    	LD	IX,0
040C9F DD39                A  3490    	ADD	IX,SP
                           A  3491    ;  333		vdp_spriteSelect(id);
                           A  3492    .LINE 333
                           A  3493    
040CA1 DD4E06              A  3494    	LD	C,(IX+%6)
040CA4 0600                A  3495    	LD	B,%0
040CA6 C5                  A  3496    	PUSH	BC
040CA7 CD 55 0A 04         A  3497    	CALL	_vdp_spriteSelect
040CAB C1                  A  3498    	POP	BC
                           A  3499    ;  334		vdp_spriteHideSelected();
                           A  3500    .LINE 334
                           A  3501    
040CAC CD 6C 0C 04         A  3502    	CALL	_vdp_spriteHideSelected
                           A  3503    ;  335		return;
                           A  3504    ;  336	}
                           A  3505    .LINE 336
                           A  3506    
040CB0 DDF9                A  3507    	LD	SP,IX
040CB2 DDE1                A  3508    	POP	IX
040CB4 C9                  A  3509    	RET	
                           A  3510    
                           A  3511    
                           A  3512    ;**************************** _vdp_spriteHide *
                           A  3513    ;Name                         Addr/Register   S
                           A  3514    ;_vdp_spriteHideSelected             IMPORT  --
                           A  3515    ;_vdp_spriteSelect                   IMPORT  --
                           A  3516    ;id                                    IX+6    
                           A  3517    
                           A  3518    
                           A  3519    ; Stack Frame Size: 9 (bytes)
                           A  3520    ;       Spill Code: 0 (instruction)
                           A  3521    
                           A  3522    
                           A  3523    .ENDFUNC "vdp_spriteHide",336,"_vdp_spriteHide"
                           A  3524    ;  337	
                           A  3525    ;  338	void vdp_spriteMoveToSelected(UINT16 x,
                           A  3526    ;  339	{
040CB5                     A  3527    _vdp_spriteMoveToSelected:
                           A  3528    .DEFINE "_vdp_spriteMoveToSelected"
                           A  3529    
                           A  3530    .VALUE _vdp_spriteMoveToSelected
                           A  3531    
                           A  3532    .CLASS 2
                           A  3533    
                           A  3534    .TYPE 65
                           A  3535    
                           A  3536    .ENDEF
                           A  3537    
                           A  3538    .BEGFUNC "vdp_spriteMoveToSelected",339,"_vdp_s
                           A  3539    
                           A  3540    .LINE 339
                           A  3541    
                           A  3542    .DEFINE "x"
                           A  3543    
                           A  3544    .CLASS 65
                           A  3545    
                           A  3546    .VALUE 6
                           A  3547    
                           A  3548    .TYPE 13
                           A  3549    
                           A  3550    .ENDEF
                           A  3551    
                           A  3552    .DEFINE "y"
                           A  3553    
                           A  3554    .CLASS 65
                           A  3555    
                           A  3556    .VALUE 9
                           A  3557    
                           A  3558    .TYPE 13
                           A  3559    
                           A  3560    .ENDEF
                           A  3561    
040CB5 DDE5                A  3562    	PUSH	IX
040CB7 DD210000 00         A  3563    	LD	IX,0
040CBC DD39                A  3564    	ADD	IX,SP
                           A  3565    ;  340		putch(23); // vdu_sys
                           A  3566    .LINE 340
                           A  3567    
040CBE 01170000            A  3568    	LD	BC,23
040CC2 C5                  A  3569    	PUSH	BC
040CC3 CD BB 0F 04         A  3570    	CALL	_putch
040CC7 C1                  A  3571    	POP	BC
                           A  3572    ;  341		putch(27); // sprite command
                           A  3573    .LINE 341
                           A  3574    
040CC8 011B0000            A  3575    	LD	BC,27
040CCC C5                  A  3576    	PUSH	BC
040CCD CD BB 0F 04         A  3577    	CALL	_putch
040CD1 C1                  A  3578    	POP	BC
                           A  3579    ;  342		putch(13); // move to
                           A  3580    .LINE 342
                           A  3581    
040CD2 010D0000            A  3582    	LD	BC,13
040CD6 C5                  A  3583    	PUSH	BC
040CD7 CD BB 0F 04         A  3584    	CALL	_putch
040CDB C1                  A  3585    	POP	BC
                           A  3586    ;  343		write16bit(x);
                           A  3587    .LINE 343
                           A  3588    
040CDC DD0706              A  3589    	LD	BC,(IX+%6)
040CDF C5                  A  3590    	PUSH	BC
040CE0 CD 80 04 04         A  3591    	CALL	_write16bit
040CE4 C1                  A  3592    	POP	BC
                           A  3593    ;  344		write16bit(y);
                           A  3594    .LINE 344
                           A  3595    
040CE5 DD0709              A  3596    	LD	BC,(IX+%9)
040CE8 C5                  A  3597    	PUSH	BC
040CE9 CD 80 04 04         A  3598    	CALL	_write16bit
040CED C1                  A  3599    	POP	BC
                           A  3600    ;  345		return;	
                           A  3601    ;  346	}
                           A  3602    .LINE 346
                           A  3603    
040CEE DDF9                A  3604    	LD	SP,IX
040CF0 DDE1                A  3605    	POP	IX
040CF2 C9                  A  3606    	RET	
                           A  3607    
                           A  3608    
                           A  3609    ;**************************** _vdp_spriteMoveTo
                           A  3610    ;Name                         Addr/Register   S
                           A  3611    ;_putch                              IMPORT  --
                           A  3612    ;y                                     IX+9    
                           A  3613    ;x                                     IX+6    
                           A  3614    
                           A  3615    
                           A  3616    ; Stack Frame Size: 12 (bytes)
                           A  3617    ;       Spill Code: 0 (instruction)
                           A  3618    
                           A  3619    
                           A  3620    .ENDFUNC "vdp_spriteMoveToSelected",346,"_vdp_s
                           A  3621    ;  347	
                           A  3622    ;  348	void vdp_spriteMoveTo(UINT8 id, UINT16 
                           A  3623    ;  349	{
040CF3                     A  3624    _vdp_spriteMoveTo:
                           A  3625    .DEFINE "_vdp_spriteMoveTo"
                           A  3626    
                           A  3627    .VALUE _vdp_spriteMoveTo
                           A  3628    
                           A  3629    .CLASS 2
                           A  3630    
                           A  3631    .TYPE 65
                           A  3632    
                           A  3633    .ENDEF
                           A  3634    
                           A  3635    .BEGFUNC "vdp_spriteMoveTo",349,"_vdp_spriteMov
                           A  3636    
                           A  3637    .LINE 349
                           A  3638    
                           A  3639    .DEFINE "id"
                           A  3640    
                           A  3641    .CLASS 65
                           A  3642    
                           A  3643    .VALUE 6
                           A  3644    
                           A  3645    .TYPE 12
                           A  3646    
                           A  3647    .ENDEF
                           A  3648    
                           A  3649    .DEFINE "x"
                           A  3650    
                           A  3651    .CLASS 65
                           A  3652    
                           A  3653    .VALUE 9
                           A  3654    
                           A  3655    .TYPE 13
                           A  3656    
                           A  3657    .ENDEF
                           A  3658    
                           A  3659    .DEFINE "y"
                           A  3660    
                           A  3661    .CLASS 65
                           A  3662    
                           A  3663    .VALUE 12
                           A  3664    
                           A  3665    .TYPE 13
                           A  3666    
                           A  3667    .ENDEF
                           A  3668    
040CF3 DDE5                A  3669    	PUSH	IX
040CF5 DD210000 00         A  3670    	LD	IX,0
040CFA DD39                A  3671    	ADD	IX,SP
                           A  3672    ;  350		vdp_spriteSelect(id);
                           A  3673    .LINE 350
                           A  3674    
040CFC DD4E06              A  3675    	LD	C,(IX+%6)
040CFF 0600                A  3676    	LD	B,%0
040D01 C5                  A  3677    	PUSH	BC
040D02 CD 55 0A 04         A  3678    	CALL	_vdp_spriteSelect
040D06 C1                  A  3679    	POP	BC
                           A  3680    ;  351		vdp_spriteMoveToSelected(x,y);
                           A  3681    .LINE 351
                           A  3682    
040D07 DD070C              A  3683    	LD	BC,(IX+%C)
040D0A C5                  A  3684    	PUSH	BC
040D0B DD0709              A  3685    	LD	BC,(IX+%9)
040D0E C5                  A  3686    	PUSH	BC
040D0F CD B5 0C 04         A  3687    	CALL	_vdp_spriteMoveToSelected
040D13 C1                  A  3688    	POP	BC
040D14 C1                  A  3689    	POP	BC
                           A  3690    ;  352		return;
                           A  3691    ;  353	}
                           A  3692    .LINE 353
                           A  3693    
040D15 DDF9                A  3694    	LD	SP,IX
040D17 DDE1                A  3695    	POP	IX
040D19 C9                  A  3696    	RET	
                           A  3697    
                           A  3698    
                           A  3699    ;**************************** _vdp_spriteMoveTo
                           A  3700    ;Name                         Addr/Register   S
                           A  3701    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  3702    ;_vdp_spriteSelect                   IMPORT  --
                           A  3703    ;y                                    IX+12    
                           A  3704    ;x                                     IX+9    
                           A  3705    ;id                                    IX+6    
                           A  3706    
                           A  3707    
                           A  3708    ; Stack Frame Size: 15 (bytes)
                           A  3709    ;       Spill Code: 0 (instruction)
                           A  3710    
                           A  3711    
                           A  3712    .ENDFUNC "vdp_spriteMoveTo",353,"_vdp_spriteMov
                           A  3713    ;  354	
                           A  3714    ;  355	void vdp_spriteMoveBySelected(UINT16 x,
                           A  3715    ;  356	{
040D1A                     A  3716    _vdp_spriteMoveBySelected:
                           A  3717    .DEFINE "_vdp_spriteMoveBySelected"
                           A  3718    
                           A  3719    .VALUE _vdp_spriteMoveBySelected
                           A  3720    
                           A  3721    .CLASS 2
                           A  3722    
                           A  3723    .TYPE 65
                           A  3724    
                           A  3725    .ENDEF
                           A  3726    
                           A  3727    .BEGFUNC "vdp_spriteMoveBySelected",356,"_vdp_s
                           A  3728    
                           A  3729    .LINE 356
                           A  3730    
                           A  3731    .DEFINE "x"
                           A  3732    
                           A  3733    .CLASS 65
                           A  3734    
                           A  3735    .VALUE 6
                           A  3736    
                           A  3737    .TYPE 13
                           A  3738    
                           A  3739    .ENDEF
                           A  3740    
                           A  3741    .DEFINE "y"
                           A  3742    
                           A  3743    .CLASS 65
                           A  3744    
                           A  3745    .VALUE 9
                           A  3746    
                           A  3747    .TYPE 13
                           A  3748    
                           A  3749    .ENDEF
                           A  3750    
040D1A DDE5                A  3751    	PUSH	IX
040D1C DD210000 00         A  3752    	LD	IX,0
040D21 DD39                A  3753    	ADD	IX,SP
                           A  3754    ;  357		putch(23); // vdu_sys
                           A  3755    .LINE 357
                           A  3756    
040D23 01170000            A  3757    	LD	BC,23
040D27 C5                  A  3758    	PUSH	BC
040D28 CD BB 0F 04         A  3759    	CALL	_putch
040D2C C1                  A  3760    	POP	BC
                           A  3761    ;  358		putch(27); // sprite command
                           A  3762    .LINE 358
                           A  3763    
040D2D 011B0000            A  3764    	LD	BC,27
040D31 C5                  A  3765    	PUSH	BC
040D32 CD BB 0F 04         A  3766    	CALL	_putch
040D36 C1                  A  3767    	POP	BC
                           A  3768    ;  359		putch(14); // move by
                           A  3769    .LINE 359
                           A  3770    
040D37 010E0000            A  3771    	LD	BC,14
040D3B C5                  A  3772    	PUSH	BC
040D3C CD BB 0F 04         A  3773    	CALL	_putch
040D40 C1                  A  3774    	POP	BC
                           A  3775    ;  360		write16bit(x);
                           A  3776    .LINE 360
                           A  3777    
040D41 DD0706              A  3778    	LD	BC,(IX+%6)
040D44 C5                  A  3779    	PUSH	BC
040D45 CD 80 04 04         A  3780    	CALL	_write16bit
040D49 C1                  A  3781    	POP	BC
                           A  3782    ;  361		write16bit(y);
                           A  3783    .LINE 361
                           A  3784    
040D4A DD0709              A  3785    	LD	BC,(IX+%9)
040D4D C5                  A  3786    	PUSH	BC
040D4E CD 80 04 04         A  3787    	CALL	_write16bit
040D52 C1                  A  3788    	POP	BC
                           A  3789    ;  362		return;	
                           A  3790    ;  363	}
                           A  3791    .LINE 363
                           A  3792    
040D53 DDF9                A  3793    	LD	SP,IX
040D55 DDE1                A  3794    	POP	IX
040D57 C9                  A  3795    	RET	
                           A  3796    
                           A  3797    
                           A  3798    ;**************************** _vdp_spriteMoveBy
                           A  3799    ;Name                         Addr/Register   S
                           A  3800    ;_putch                              IMPORT  --
                           A  3801    ;y                                     IX+9    
                           A  3802    ;x                                     IX+6    
                           A  3803    
                           A  3804    
                           A  3805    ; Stack Frame Size: 12 (bytes)
                           A  3806    ;       Spill Code: 0 (instruction)
                           A  3807    
                           A  3808    
                           A  3809    .ENDFUNC "vdp_spriteMoveBySelected",363,"_vdp_s
                           A  3810    ;  364	
                           A  3811    ;  365	void vdp_spriteMoveBy(UINT8 id, UINT16 
                           A  3812    ;  366	{
040D58                     A  3813    _vdp_spriteMoveBy:
                           A  3814    .DEFINE "_vdp_spriteMoveBy"
                           A  3815    
                           A  3816    .VALUE _vdp_spriteMoveBy
                           A  3817    
                           A  3818    .CLASS 2
                           A  3819    
                           A  3820    .TYPE 65
                           A  3821    
                           A  3822    .ENDEF
                           A  3823    
                           A  3824    .BEGFUNC "vdp_spriteMoveBy",366,"_vdp_spriteMov
                           A  3825    
                           A  3826    .LINE 366
                           A  3827    
                           A  3828    .DEFINE "id"
                           A  3829    
                           A  3830    .CLASS 65
                           A  3831    
                           A  3832    .VALUE 6
                           A  3833    
                           A  3834    .TYPE 12
                           A  3835    
                           A  3836    .ENDEF
                           A  3837    
                           A  3838    .DEFINE "x"
                           A  3839    
                           A  3840    .CLASS 65
                           A  3841    
                           A  3842    .VALUE 9
                           A  3843    
                           A  3844    .TYPE 13
                           A  3845    
                           A  3846    .ENDEF
                           A  3847    
                           A  3848    .DEFINE "y"
                           A  3849    
                           A  3850    .CLASS 65
                           A  3851    
                           A  3852    .VALUE 12
                           A  3853    
                           A  3854    .TYPE 13
                           A  3855    
                           A  3856    .ENDEF
                           A  3857    
040D58 DDE5                A  3858    	PUSH	IX
040D5A DD210000 00         A  3859    	LD	IX,0
040D5F DD39                A  3860    	ADD	IX,SP
                           A  3861    ;  367		vdp_spriteSelect(id);
                           A  3862    .LINE 367
                           A  3863    
040D61 DD4E06              A  3864    	LD	C,(IX+%6)
040D64 0600                A  3865    	LD	B,%0
040D66 C5                  A  3866    	PUSH	BC
040D67 CD 55 0A 04         A  3867    	CALL	_vdp_spriteSelect
040D6B C1                  A  3868    	POP	BC
                           A  3869    ;  368		vdp_spriteMoveBySelected(x,y);
                           A  3870    .LINE 368
                           A  3871    
040D6C DD070C              A  3872    	LD	BC,(IX+%C)
040D6F C5                  A  3873    	PUSH	BC
040D70 DD0709              A  3874    	LD	BC,(IX+%9)
040D73 C5                  A  3875    	PUSH	BC
040D74 CD 1A 0D 04         A  3876    	CALL	_vdp_spriteMoveBySelected
040D78 C1                  A  3877    	POP	BC
040D79 C1                  A  3878    	POP	BC
                           A  3879    ;  369		return;
                           A  3880    ;  370	}
                           A  3881    .LINE 370
                           A  3882    
040D7A DDF9                A  3883    	LD	SP,IX
040D7C DDE1                A  3884    	POP	IX
040D7E C9                  A  3885    	RET	
                           A  3886    
                           A  3887    
                           A  3888    ;**************************** _vdp_spriteMoveBy
                           A  3889    ;Name                         Addr/Register   S
                           A  3890    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  3891    ;_vdp_spriteSelect                   IMPORT  --
                           A  3892    ;y                                    IX+12    
                           A  3893    ;x                                     IX+9    
                           A  3894    ;id                                    IX+6    
                           A  3895    
                           A  3896    
                           A  3897    ; Stack Frame Size: 15 (bytes)
                           A  3898    ;       Spill Code: 0 (instruction)
                           A  3899    
                           A  3900    
                           A  3901    .ENDFUNC "vdp_spriteMoveBy",370,"_vdp_spriteMov
                           A  3902    ;  371	
                           A  3903    ;  372	void vdp_spriteActivateTotal(UINT8 numb
                           A  3904    ;  373	{
040D7F                     A  3905    _vdp_spriteActivateTotal:
                           A  3906    .DEFINE "_vdp_spriteActivateTotal"
                           A  3907    
                           A  3908    .VALUE _vdp_spriteActivateTotal
                           A  3909    
                           A  3910    .CLASS 2
                           A  3911    
                           A  3912    .TYPE 65
                           A  3913    
                           A  3914    .ENDEF
                           A  3915    
                           A  3916    .BEGFUNC "vdp_spriteActivateTotal",373,"_vdp_sp
                           A  3917    
                           A  3918    .LINE 373
                           A  3919    
                           A  3920    .DEFINE "number"
                           A  3921    
                           A  3922    .CLASS 65
                           A  3923    
                           A  3924    .VALUE 6
                           A  3925    
                           A  3926    .TYPE 12
                           A  3927    
                           A  3928    .ENDEF
                           A  3929    
040D7F DDE5                A  3930    	PUSH	IX
040D81 DD210000 00         A  3931    	LD	IX,0
040D86 DD39                A  3932    	ADD	IX,SP
                           A  3933    ;  374		putch(23); // vdu_sys
                           A  3934    .LINE 374
                           A  3935    
040D88 01170000            A  3936    	LD	BC,23
040D8C C5                  A  3937    	PUSH	BC
040D8D CD BB 0F 04         A  3938    	CALL	_putch
040D91 C1                  A  3939    	POP	BC
                           A  3940    ;  375		putch(27); // sprite command
                           A  3941    .LINE 375
                           A  3942    
040D92 011B0000            A  3943    	LD	BC,27
040D96 C5                  A  3944    	PUSH	BC
040D97 CD BB 0F 04         A  3945    	CALL	_putch
040D9B C1                  A  3946    	POP	BC
                           A  3947    ;  376		putch(7);  // set number of sprites
                           A  3948    .LINE 376
                           A  3949    
040D9C 01070000            A  3950    	LD	BC,7
040DA0 C5                  A  3951    	PUSH	BC
040DA1 CD BB 0F 04         A  3952    	CALL	_putch
040DA5 C1                  A  3953    	POP	BC
                           A  3954    ;  377		putch(number);
                           A  3955    .LINE 377
                           A  3956    
040DA6 DD7E06              A  3957    	LD	A,(IX+%6)
040DA9 B7ED62              A  3958    	UEXT	HL
040DAC 6F                  A  3959    	LD	L,A
040DAD E5                  A  3960    	PUSH	HL
040DAE CD BB 0F 04         A  3961    	CALL	_putch
040DB2 C1                  A  3962    	POP	BC
                           A  3963    ;  378		return;	
                           A  3964    ;  379	}
                           A  3965    .LINE 379
                           A  3966    
040DB3 DDF9                A  3967    	LD	SP,IX
040DB5 DDE1                A  3968    	POP	IX
040DB7 C9                  A  3969    	RET	
                           A  3970    
                           A  3971    
                           A  3972    ;**************************** _vdp_spriteActiva
                           A  3973    ;Name                         Addr/Register   S
                           A  3974    ;_putch                              IMPORT  --
                           A  3975    ;number                                IX+6    
                           A  3976    
                           A  3977    
                           A  3978    ; Stack Frame Size: 9 (bytes)
                           A  3979    ;       Spill Code: 0 (instruction)
                           A  3980    
                           A  3981    
                           A  3982    .ENDFUNC "vdp_spriteActivateTotal",379,"_vdp_sp
                           A  3983    ;  380	
                           A  3984    ;  381	void vdp_spriteRefresh(void)
                           A  3985    ;  382	{
040DB8                     A  3986    _vdp_spriteRefresh:
                           A  3987    .DEFINE "_vdp_spriteRefresh"
                           A  3988    
                           A  3989    .VALUE _vdp_spriteRefresh
                           A  3990    
                           A  3991    .CLASS 2
                           A  3992    
                           A  3993    .TYPE 65
                           A  3994    
                           A  3995    .ENDEF
                           A  3996    
                           A  3997    .BEGFUNC "vdp_spriteRefresh",382,"_vdp_spriteRe
                           A  3998    
040DB8 DDE5                A  3999    	PUSH	IX
040DBA DD210000 00         A  4000    	LD	IX,0
040DBF DD39                A  4001    	ADD	IX,SP
                           A  4002    ;  383		putch(23);	// vdu_sys
                           A  4003    .LINE 383
                           A  4004    
040DC1 01170000            A  4005    	LD	BC,23
040DC5 C5                  A  4006    	PUSH	BC
040DC6 CD BB 0F 04         A  4007    	CALL	_putch
040DCA C1                  A  4008    	POP	BC
                           A  4009    ;  384		putch(27);	// sprite command
                           A  4010    .LINE 384
                           A  4011    
040DCB 011B0000            A  4012    	LD	BC,27
040DCF C5                  A  4013    	PUSH	BC
040DD0 CD BB 0F 04         A  4014    	CALL	_putch
040DD4 C1                  A  4015    	POP	BC
                           A  4016    ;  385		putch(15);	// refresh all sprites
                           A  4017    .LINE 385
                           A  4018    
040DD5 010F0000            A  4019    	LD	BC,15
040DD9 C5                  A  4020    	PUSH	BC
040DDA CD BB 0F 04         A  4021    	CALL	_putch
040DDE C1                  A  4022    	POP	BC
                           A  4023    ;  386		return;
                           A  4024    ;  387	}
                           A  4025    .LINE 387
                           A  4026    
040DDF DDF9                A  4027    	LD	SP,IX
040DE1 DDE1                A  4028    	POP	IX
040DE3 C9                  A  4029    	RET	
                           A  4030    
                           A  4031    
                           A  4032    ;**************************** _vdp_spriteRefres
                           A  4033    ;Name                         Addr/Register   S
                           A  4034    ;_putch                              IMPORT  --
                           A  4035    
                           A  4036    
                           A  4037    ; Stack Frame Size: 6 (bytes)
                           A  4038    ;       Spill Code: 0 (instruction)
                           A  4039    
                           A  4040    
                           A  4041    .ENDFUNC "vdp_spriteRefresh",387,"_vdp_spriteRe
                           A  4042    ;  388	
                           A  4043    ;  389	UINT8 vdp_cursorGetXpos(void)
                           A  4044    ;  390	{
040DE4                     A  4045    _vdp_cursorGetXpos:
                           A  4046    .DEFINE "_vdp_cursorGetXpos"
                           A  4047    
                           A  4048    .VALUE _vdp_cursorGetXpos
                           A  4049    
                           A  4050    .CLASS 2
                           A  4051    
                           A  4052    .TYPE 76
                           A  4053    
                           A  4054    .ENDEF
                           A  4055    
                           A  4056    .BEGFUNC "vdp_cursorGetXpos",390,"_vdp_cursorGe
                           A  4057    
                           A  4058    .LINE 390
                           A  4059    
                           A  4060    .DEFINE "delay"
                           A  4061    
                           A  4062    .CLASS 65
                           A  4063    
                           A  4064    .VALUE -3
                           A  4065    
                           A  4066    .TYPE 14
                           A  4067    
                           A  4068    .ENDEF
                           A  4069    
040DE4 DDE5                A  4070    	PUSH	IX
040DE6 DD210000 00         A  4071    	LD	IX,0
040DEB DD39                A  4072    	ADD	IX,SP
040DED C5                  A  4073    	PUSH	BC
                           A  4074    ;  391		unsigned int delay;
                           A  4075    ;  392		
                           A  4076    ;  393		putch(23);	// VDP command
                           A  4077    .LINE 393
                           A  4078    
040DEE 01170000            A  4079    	LD	BC,23
040DF2 C5                  A  4080    	PUSH	BC
040DF3 CD BB 0F 04         A  4081    	CALL	_putch
040DF7 C1                  A  4082    	POP	BC
                           A  4083    ;  394		putch(0);	// VDP command
                           A  4084    .LINE 394
                           A  4085    
040DF8 01000000            A  4086    	LD	BC,0
040DFC C5                  A  4087    	PUSH	BC
040DFD CD BB 0F 04         A  4088    	CALL	_putch
040E01 C1                  A  4089    	POP	BC
                           A  4090    ;  395		putch(0x82);	// Request cursor p
                           A  4091    .LINE 395
                           A  4092    
040E02 01820000            A  4093    	LD	BC,130
040E06 C5                  A  4094    	PUSH	BC
040E07 CD BB 0F 04         A  4095    	CALL	_putch
040E0B C1                  A  4096    	POP	BC
                           A  4097    ;  396		
                           A  4098    ;  397		delay = 255;
                           A  4099    .LINE 397
                           A  4100    
040E0C 01FF0000            A  4101    	LD	BC,255
040E10 DD0FFD              A  4102    	LD	(IX+%FFFFFFFD),BC
                           A  4103    ;  398		while(delay--);
040E13                     A  4104    L_56:
                           A  4105    .LINE 398
                           A  4106    
040E13 DD27FD              A  4107    	LD	HL,(IX+%FFFFFFFD)
040E16 DD31FD              A  4108    	LD	IY,(IX+%FFFFFFFD)
040E19 ED33FF              A  4109    	LEA	IY,IY+%FFFFFFFF
040E1C DD3EFD              A  4110    	LD	(IX+%FFFFFFFD),IY
040E1F CD 7B 1A 04         A  4111    	CALL	__icmpzero
040E23 20 EE               A  4112    	JR	NZ,L_56
                           A  4113    ;  399		return(getsysvar_cursorX());
                           A  4114    .LINE 399
                           A  4115    
040E25 CD 2C 10 04         A  4116    	CALL	_getsysvar_cursorX
                           A  4117    ;  400	
                           A  4118    ;  401	}
                           A  4119    .LINE 401
                           A  4120    
040E29 DDF9                A  4121    	LD	SP,IX
040E2B DDE1                A  4122    	POP	IX
040E2D C9                  A  4123    	RET	
                           A  4124    
                           A  4125    
                           A  4126    ;**************************** _vdp_cursorGetXpo
                           A  4127    ;Name                         Addr/Register   S
                           A  4128    ;_getsysvar_cursorX                  IMPORT  --
                           A  4129    ;_putch                              IMPORT  --
                           A  4130    ;delay                                 IX-3    
                           A  4131    
                           A  4132    
                           A  4133    ; Stack Frame Size: 9 (bytes)
                           A  4134    ;       Spill Code: 0 (instruction)
                           A  4135    
                           A  4136    
                           A  4137    .ENDFUNC "vdp_cursorGetXpos",401,"_vdp_cursorGe
                           A  4138    ;  402	
                           A  4139    ;  403	UINT8 vdp_cursorGetYpos(void)
                           A  4140    ;  404	{
040E2E                     A  4141    _vdp_cursorGetYpos:
                           A  4142    .DEFINE "_vdp_cursorGetYpos"
                           A  4143    
                           A  4144    .VALUE _vdp_cursorGetYpos
                           A  4145    
                           A  4146    .CLASS 2
                           A  4147    
                           A  4148    .TYPE 76
                           A  4149    
                           A  4150    .ENDEF
                           A  4151    
                           A  4152    .BEGFUNC "vdp_cursorGetYpos",404,"_vdp_cursorGe
                           A  4153    
                           A  4154    .LINE 404
                           A  4155    
                           A  4156    .DEFINE "delay"
                           A  4157    
                           A  4158    .CLASS 65
                           A  4159    
                           A  4160    .VALUE -3
                           A  4161    
                           A  4162    .TYPE 14
                           A  4163    
                           A  4164    .ENDEF
                           A  4165    
040E2E DDE5                A  4166    	PUSH	IX
040E30 DD210000 00         A  4167    	LD	IX,0
040E35 DD39                A  4168    	ADD	IX,SP
040E37 C5                  A  4169    	PUSH	BC
                           A  4170    ;  405		unsigned int delay;
                           A  4171    ;  406		
                           A  4172    ;  407		putch(23);	// VDP command
                           A  4173    .LINE 407
                           A  4174    
040E38 01170000            A  4175    	LD	BC,23
040E3C C5                  A  4176    	PUSH	BC
040E3D CD BB 0F 04         A  4177    	CALL	_putch
040E41 C1                  A  4178    	POP	BC
                           A  4179    ;  408		putch(0);	// VDP command
                           A  4180    .LINE 408
                           A  4181    
040E42 01000000            A  4182    	LD	BC,0
040E46 C5                  A  4183    	PUSH	BC
040E47 CD BB 0F 04         A  4184    	CALL	_putch
040E4B C1                  A  4185    	POP	BC
                           A  4186    ;  409		putch(0x82);	// Request cursor p
                           A  4187    .LINE 409
                           A  4188    
040E4C 01820000            A  4189    	LD	BC,130
040E50 C5                  A  4190    	PUSH	BC
040E51 CD BB 0F 04         A  4191    	CALL	_putch
040E55 C1                  A  4192    	POP	BC
                           A  4193    ;  410		
                           A  4194    ;  411		delay = 255;
                           A  4195    .LINE 411
                           A  4196    
040E56 01FF0000            A  4197    	LD	BC,255
040E5A DD0FFD              A  4198    	LD	(IX+%FFFFFFFD),BC
                           A  4199    ;  412		while(delay--);
040E5D                     A  4200    L_61:
                           A  4201    .LINE 412
                           A  4202    
040E5D DD27FD              A  4203    	LD	HL,(IX+%FFFFFFFD)
040E60 DD31FD              A  4204    	LD	IY,(IX+%FFFFFFFD)
040E63 ED33FF              A  4205    	LEA	IY,IY+%FFFFFFFF
040E66 DD3EFD              A  4206    	LD	(IX+%FFFFFFFD),IY
040E69 CD 7B 1A 04         A  4207    	CALL	__icmpzero
040E6D 20 EE               A  4208    	JR	NZ,L_61
                           A  4209    ;  413		return(getsysvar_cursorY());
                           A  4210    .LINE 413
                           A  4211    
040E6F CD 38 10 04         A  4212    	CALL	_getsysvar_cursorY
                           A  4213    ;  414	}
                           A  4214    .LINE 414
                           A  4215    
040E73 DDF9                A  4216    	LD	SP,IX
040E75 DDE1                A  4217    	POP	IX
040E77 C9                  A  4218    	RET	
                           A  4219    
                           A  4220    
                           A  4221    ;**************************** _vdp_cursorGetYpo
                           A  4222    ;Name                         Addr/Register   S
                           A  4223    ;_getsysvar_cursorY                  IMPORT  --
                           A  4224    ;_putch                              IMPORT  --
                           A  4225    ;delay                                 IX-3    
                           A  4226    
                           A  4227    
                           A  4228    ; Stack Frame Size: 9 (bytes)
                           A  4229    ;       Spill Code: 0 (instruction)
                           A  4230    
                           A  4231    
                           A  4232    .ENDFUNC "vdp_cursorGetYpos",414,"_vdp_cursorGe
                           A  4233    ;  415	
                           A  4234    ;  416	char vdp_asciiCodeAt(unsigned char x, u
                           A  4235    ;  417	{
040E78                     A  4236    _vdp_asciiCodeAt:
                           A  4237    .DEFINE "_vdp_asciiCodeAt"
                           A  4238    
                           A  4239    .VALUE _vdp_asciiCodeAt
                           A  4240    
                           A  4241    .CLASS 2
                           A  4242    
                           A  4243    .TYPE 66
                           A  4244    
                           A  4245    .ENDEF
                           A  4246    
                           A  4247    .BEGFUNC "vdp_asciiCodeAt",417,"_vdp_asciiCodeA
                           A  4248    
                           A  4249    .LINE 417
                           A  4250    
                           A  4251    .DEFINE "x"
                           A  4252    
                           A  4253    .CLASS 65
                           A  4254    
                           A  4255    .VALUE 6
                           A  4256    
                           A  4257    .TYPE 12
                           A  4258    
                           A  4259    .ENDEF
                           A  4260    
                           A  4261    .DEFINE "y"
                           A  4262    
                           A  4263    .CLASS 65
                           A  4264    
                           A  4265    .VALUE 9
                           A  4266    
                           A  4267    .TYPE 12
                           A  4268    
                           A  4269    .ENDEF
                           A  4270    
                           A  4271    .DEFINE "delay"
                           A  4272    
                           A  4273    .CLASS 65
                           A  4274    
                           A  4275    .VALUE -3
                           A  4276    
                           A  4277    .TYPE 14
                           A  4278    
                           A  4279    .ENDEF
                           A  4280    
040E78 DDE5                A  4281    	PUSH	IX
040E7A DD210000 00         A  4282    	LD	IX,0
040E7F DD39                A  4283    	ADD	IX,SP
040E81 C5                  A  4284    	PUSH	BC
                           A  4285    ;  418		unsigned int delay;
                           A  4286    ;  419		
                           A  4287    ;  420		putch(23);	// VDP command
                           A  4288    .LINE 420
                           A  4289    
040E82 01170000            A  4290    	LD	BC,23
040E86 C5                  A  4291    	PUSH	BC
040E87 CD BB 0F 04         A  4292    	CALL	_putch
040E8B C1                  A  4293    	POP	BC
                           A  4294    ;  421		putch(0);	// VDP command
                           A  4295    .LINE 421
                           A  4296    
040E8C 01000000            A  4297    	LD	BC,0
040E90 C5                  A  4298    	PUSH	BC
040E91 CD BB 0F 04         A  4299    	CALL	_putch
040E95 C1                  A  4300    	POP	BC
                           A  4301    ;  422		putch(0x83);	// Request ascii co
                           A  4302    .LINE 422
                           A  4303    
040E96 01830000            A  4304    	LD	BC,131
040E9A C5                  A  4305    	PUSH	BC
040E9B CD BB 0F 04         A  4306    	CALL	_putch
040E9F C1                  A  4307    	POP	BC
                           A  4308    ;  423		putch(x);
                           A  4309    .LINE 423
                           A  4310    
040EA0 DD7E06              A  4311    	LD	A,(IX+%6)
040EA3 B7ED62              A  4312    	UEXT	HL
040EA6 6F                  A  4313    	LD	L,A
040EA7 E5                  A  4314    	PUSH	HL
040EA8 CD BB 0F 04         A  4315    	CALL	_putch
040EAC C1                  A  4316    	POP	BC
                           A  4317    ;  424		putch(0);
                           A  4318    .LINE 424
                           A  4319    
040EAD 01000000            A  4320    	LD	BC,0
040EB1 C5                  A  4321    	PUSH	BC
040EB2 CD BB 0F 04         A  4322    	CALL	_putch
040EB6 C1                  A  4323    	POP	BC
                           A  4324    ;  425		putch(y);
                           A  4325    .LINE 425
                           A  4326    
040EB7 DD7E09              A  4327    	LD	A,(IX+%9)
040EBA B7ED62              A  4328    	UEXT	HL
040EBD 6F                  A  4329    	LD	L,A
040EBE E5                  A  4330    	PUSH	HL
040EBF CD BB 0F 04         A  4331    	CALL	_putch
040EC3 C1                  A  4332    	POP	BC
                           A  4333    ;  426		putch(0);
                           A  4334    .LINE 426
                           A  4335    
040EC4 01000000            A  4336    	LD	BC,0
040EC8 C5                  A  4337    	PUSH	BC
040EC9 CD BB 0F 04         A  4338    	CALL	_putch
040ECD C1                  A  4339    	POP	BC
                           A  4340    ;  427		
                           A  4341    ;  428		delay = 64000;
                           A  4342    .LINE 428
                           A  4343    
040ECE 0100FA00            A  4344    	LD	BC,64000
040ED2 DD0FFD              A  4345    	LD	(IX+%FFFFFFFD),BC
                           A  4346    ;  429		while(delay--);
040ED5                     A  4347    L_66:
                           A  4348    .LINE 429
                           A  4349    
040ED5 DD27FD              A  4350    	LD	HL,(IX+%FFFFFFFD)
040ED8 DD31FD              A  4351    	LD	IY,(IX+%FFFFFFFD)
040EDB ED33FF              A  4352    	LEA	IY,IY+%FFFFFFFF
040EDE DD3EFD              A  4353    	LD	(IX+%FFFFFFFD),IY
040EE1 CD 7B 1A 04         A  4354    	CALL	__icmpzero
040EE5 20 EE               A  4355    	JR	NZ,L_66
                           A  4356    ;  430		return(getsysvar_scrchar());
                           A  4357    .LINE 430
                           A  4358    
040EE7 CD 44 10 04         A  4359    	CALL	_getsysvar_scrchar
                           A  4360    ;  431	}
                           A  4361    .LINE 431
                           A  4362    
040EEB DDF9                A  4363    	LD	SP,IX
040EED DDE1                A  4364    	POP	IX
040EEF C9                  A  4365    	RET	
                           A  4366    
                           A  4367    
                           A  4368    ;**************************** _vdp_asciiCodeAt 
                           A  4369    ;Name                         Addr/Register   S
                           A  4370    ;_getsysvar_scrchar                  IMPORT  --
                           A  4371    ;_putch                              IMPORT  --
                           A  4372    ;delay                                 IX-3    
                           A  4373    ;y                                     IX+9    
                           A  4374    ;x                                     IX+6    
                           A  4375    
                           A  4376    
                           A  4377    ; Stack Frame Size: 15 (bytes)
                           A  4378    ;       Spill Code: 0 (instruction)
                           A  4379    
                           A  4380    
                           A  4381    .ENDFUNC "vdp_asciiCodeAt",431,"_vdp_asciiCodeA
                           A  4382    ;  432	
                           A  4383    ;  433	void  vdp_setpagedMode(bool mode) {
040EF0                     A  4384    _vdp_setpagedMode:
                           A  4385    .DEFINE "_vdp_setpagedMode"
                           A  4386    
                           A  4387    .VALUE _vdp_setpagedMode
                           A  4388    
                           A  4389    .CLASS 2
                           A  4390    
                           A  4391    .TYPE 65
                           A  4392    
                           A  4393    .ENDEF
                           A  4394    
                           A  4395    .BEGFUNC "vdp_setpagedMode",433,"_vdp_setpagedM
                           A  4396    
                           A  4397    .LINE 433
                           A  4398    
                           A  4399    .DEFINE "mode"
                           A  4400    
                           A  4401    .CLASS 65
                           A  4402    
                           A  4403    .VALUE 6
                           A  4404    
                           A  4405    .TYPE 12
                           A  4406    
                           A  4407    .ENDEF
                           A  4408    
040EF0 DDE5                A  4409    	PUSH	IX
040EF2 DD210000 00         A  4410    	LD	IX,0
040EF7 DD39                A  4411    	ADD	IX,SP
                           A  4412    ;  434		if(mode) putch(0x0E);
                           A  4413    .LINE 434
                           A  4414    
040EF9 DD7E06              A  4415    	LD	A,(IX+%6)
040EFC B7                  A  4416    	OR	A,A
040EFD 28 0C               A  4417    	JR	Z,L_70
040EFF 010E0000            A  4418    	LD	BC,14
040F03 C5                  A  4419    	PUSH	BC
040F04 CD BB 0F 04         A  4420    	CALL	_putch
040F08 C1                  A  4421    	POP	BC
                           A  4422    ;  435		else putch(0x0F);
                           A  4423    .LINE 435
                           A  4424    
040F09 18 0A               A  4425    	JR	L_71
040F0B                     A  4426    L_70:
040F0B 010F0000            A  4427    	LD	BC,15
040F0F C5                  A  4428    	PUSH	BC
040F10 CD BB 0F 04         A  4429    	CALL	_putch
040F14 C1                  A  4430    	POP	BC
                           A  4431    ;  436	}
040F15                     A  4432    L_71:
                           A  4433    .LINE 436
                           A  4434    
040F15 DDF9                A  4435    	LD	SP,IX
040F17 DDE1                A  4436    	POP	IX
040F19 C9                  A  4437    	RET	
                           A  4438    
                           A  4439    
                           A  4440    ;**************************** _vdp_setpagedMode
                           A  4441    ;Name                         Addr/Register   S
                           A  4442    ;_putch                              IMPORT  --
                           A  4443    ;mode                                  IX+6    
                           A  4444    
                           A  4445    
                           A  4446    ; Stack Frame Size: 9 (bytes)
                           A  4447    ;       Spill Code: 0 (instruction)
                           A  4448    
                           A  4449    
                           A  4450    .ENDFUNC "vdp_setpagedMode",436,"_vdp_setpagedM
                           A  4451    ;  437	
                           A  4452    ;  438	void vdp_cursorDisable(void)
                           A  4453    ;  439	{
040F1A                     A  4454    _vdp_cursorDisable:
                           A  4455    .DEFINE "_vdp_cursorDisable"
                           A  4456    
                           A  4457    .VALUE _vdp_cursorDisable
                           A  4458    
                           A  4459    .CLASS 2
                           A  4460    
                           A  4461    .TYPE 65
                           A  4462    
                           A  4463    .ENDEF
                           A  4464    
                           A  4465    .BEGFUNC "vdp_cursorDisable",439,"_vdp_cursorDi
                           A  4466    
040F1A DDE5                A  4467    	PUSH	IX
040F1C DD210000 00         A  4468    	LD	IX,0
040F21 DD39                A  4469    	ADD	IX,SP
                           A  4470    ;  440		putch(23);
                           A  4471    .LINE 440
                           A  4472    
040F23 01170000            A  4473    	LD	BC,23
040F27 C5                  A  4474    	PUSH	BC
040F28 CD BB 0F 04         A  4475    	CALL	_putch
040F2C C1                  A  4476    	POP	BC
                           A  4477    ;  441		putch(1);
                           A  4478    .LINE 441
                           A  4479    
040F2D 01010000            A  4480    	LD	BC,1
040F31 C5                  A  4481    	PUSH	BC
040F32 CD BB 0F 04         A  4482    	CALL	_putch
040F36 C1                  A  4483    	POP	BC
                           A  4484    ;  442		putch(0);
                           A  4485    .LINE 442
                           A  4486    
040F37 01000000            A  4487    	LD	BC,0
040F3B C5                  A  4488    	PUSH	BC
040F3C CD BB 0F 04         A  4489    	CALL	_putch
040F40 C1                  A  4490    	POP	BC
                           A  4491    ;  443	}
                           A  4492    .LINE 443
                           A  4493    
040F41 DDF9                A  4494    	LD	SP,IX
040F43 DDE1                A  4495    	POP	IX
040F45 C9                  A  4496    	RET	
                           A  4497    
                           A  4498    
                           A  4499    ;**************************** _vdp_cursorDisabl
                           A  4500    ;Name                         Addr/Register   S
                           A  4501    ;_putch                              IMPORT  --
                           A  4502    
                           A  4503    
                           A  4504    ; Stack Frame Size: 6 (bytes)
                           A  4505    ;       Spill Code: 0 (instruction)
                           A  4506    
                           A  4507    
                           A  4508    .ENDFUNC "vdp_cursorDisable",443,"_vdp_cursorDi
                           A  4509    ;  444	
                           A  4510    ;  445	void vdp_cursorEnable(void)
                           A  4511    ;  446	{
040F46                     A  4512    _vdp_cursorEnable:
                           A  4513    .DEFINE "_vdp_cursorEnable"
                           A  4514    
                           A  4515    .VALUE _vdp_cursorEnable
                           A  4516    
                           A  4517    .CLASS 2
                           A  4518    
                           A  4519    .TYPE 65
                           A  4520    
                           A  4521    .ENDEF
                           A  4522    
                           A  4523    .BEGFUNC "vdp_cursorEnable",446,"_vdp_cursorEna
                           A  4524    
040F46 DDE5                A  4525    	PUSH	IX
040F48 DD210000 00         A  4526    	LD	IX,0
040F4D DD39                A  4527    	ADD	IX,SP
                           A  4528    ;  447		putch(23);
                           A  4529    .LINE 447
                           A  4530    
040F4F 01170000            A  4531    	LD	BC,23
040F53 C5                  A  4532    	PUSH	BC
040F54 CD BB 0F 04         A  4533    	CALL	_putch
040F58 C1                  A  4534    	POP	BC
                           A  4535    ;  448		putch(1);
                           A  4536    .LINE 448
                           A  4537    
040F59 01010000            A  4538    	LD	BC,1
040F5D C5                  A  4539    	PUSH	BC
040F5E CD BB 0F 04         A  4540    	CALL	_putch
040F62 C1                  A  4541    	POP	BC
                           A  4542    ;  449		putch(1);
                           A  4543    .LINE 449
                           A  4544    
040F63 01010000            A  4545    	LD	BC,1
040F67 C5                  A  4546    	PUSH	BC
040F68 CD BB 0F 04         A  4547    	CALL	_putch
040F6C C1                  A  4548    	POP	BC
                           A  4549    ;  450	}
                           A  4550    .LINE 450
                           A  4551    
040F6D DDF9                A  4552    	LD	SP,IX
040F6F DDE1                A  4553    	POP	IX
040F71 C9                  A  4554    	RET	
                           A  4555    
                           A  4556    
                           A  4557    ;**************************** _vdp_cursorEnable
                           A  4558    ;Name                         Addr/Register   S
                           A  4559    ;_putch                              IMPORT  --
                           A  4560    
                           A  4561    
                           A  4562    ; Stack Frame Size: 6 (bytes)
                           A  4563    ;       Spill Code: 0 (instruction)
                           A  4564    
                           A  4565    
                           A  4566    .ENDFUNC "vdp_cursorEnable",450,"_vdp_cursorEna
                           A  4567    ;  451	
                           A  4568    ;  452	void vdp_scroll(unsigned char extent, u
                           A  4569    ;  453	{
040F72                     A  4570    _vdp_scroll:
                           A  4571    .DEFINE "_vdp_scroll"
                           A  4572    
                           A  4573    .VALUE _vdp_scroll
                           A  4574    
                           A  4575    .CLASS 2
                           A  4576    
                           A  4577    .TYPE 65
                           A  4578    
                           A  4579    .ENDEF
                           A  4580    
                           A  4581    .BEGFUNC "vdp_scroll",453,"_vdp_scroll"
                           A  4582    
                           A  4583    .LINE 453
                           A  4584    
                           A  4585    .DEFINE "extent"
                           A  4586    
                           A  4587    .CLASS 65
                           A  4588    
                           A  4589    .VALUE 6
                           A  4590    
                           A  4591    .TYPE 12
                           A  4592    
                           A  4593    .ENDEF
                           A  4594    
                           A  4595    .DEFINE "direction"
                           A  4596    
                           A  4597    .CLASS 65
                           A  4598    
                           A  4599    .VALUE 9
                           A  4600    
                           A  4601    .TYPE 12
                           A  4602    
                           A  4603    .ENDEF
                           A  4604    
                           A  4605    .DEFINE "speed"
                           A  4606    
                           A  4607    .CLASS 65
                           A  4608    
                           A  4609    .VALUE 12
                           A  4610    
                           A  4611    .TYPE 12
                           A  4612    
                           A  4613    .ENDEF
                           A  4614    
040F72 DDE5                A  4615    	PUSH	IX
040F74 DD210000 00         A  4616    	LD	IX,0
040F79 DD39                A  4617    	ADD	IX,SP
                           A  4618    ;  454		putch(23);
                           A  4619    .LINE 454
                           A  4620    
040F7B 01170000            A  4621    	LD	BC,23
040F7F C5                  A  4622    	PUSH	BC
040F80 CD BB 0F 04         A  4623    	CALL	_putch
040F84 C1                  A  4624    	POP	BC
                           A  4625    ;  455		putch(7);	// scroll
                           A  4626    .LINE 455
                           A  4627    
040F85 01070000            A  4628    	LD	BC,7
040F89 C5                  A  4629    	PUSH	BC
040F8A CD BB 0F 04         A  4630    	CALL	_putch
040F8E C1                  A  4631    	POP	BC
                           A  4632    ;  456		putch(extent);
                           A  4633    .LINE 456
                           A  4634    
040F8F DD7E06              A  4635    	LD	A,(IX+%6)
040F92 B7ED62              A  4636    	UEXT	HL
040F95 6F                  A  4637    	LD	L,A
040F96 E5                  A  4638    	PUSH	HL
040F97 CD BB 0F 04         A  4639    	CALL	_putch
040F9B C1                  A  4640    	POP	BC
                           A  4641    ;  457		putch(direction);
                           A  4642    .LINE 457
                           A  4643    
040F9C DD7E09              A  4644    	LD	A,(IX+%9)
040F9F B7ED62              A  4645    	UEXT	HL
040FA2 6F                  A  4646    	LD	L,A
040FA3 E5                  A  4647    	PUSH	HL
040FA4 CD BB 0F 04         A  4648    	CALL	_putch
040FA8 C1                  A  4649    	POP	BC
                           A  4650    ;  458		putch(speed);
                           A  4651    .LINE 458
                           A  4652    
040FA9 DD7E0C              A  4653    	LD	A,(IX+%C)
040FAC B7ED62              A  4654    	UEXT	HL
040FAF 6F                  A  4655    	LD	L,A
040FB0 E5                  A  4656    	PUSH	HL
040FB1 CD BB 0F 04         A  4657    	CALL	_putch
040FB5 C1                  A  4658    	POP	BC
                           A  4659    .LINE 459
                           A  4660    
040FB6 DDF9                A  4661    	LD	SP,IX
040FB8 DDE1                A  4662    	POP	IX
040FBA C9                  A  4663    	RET	
                           A  4664    
                           A  4665    
                           A  4666    ;**************************** _vdp_scroll *****
                           A  4667    ;Name                         Addr/Register   S
                           A  4668    ;_putch                              IMPORT  --
                           A  4669    ;speed                                IX+12    
                           A  4670    ;direction                             IX+9    
                           A  4671    ;extent                                IX+6    
                           A  4672    
                           A  4673    
                           A  4674    ; Stack Frame Size: 15 (bytes)
                           A  4675    ;       Spill Code: 0 (instruction)
                           A  4676    
                           A  4677    
                           A  4678    .ENDFUNC "vdp_scroll",459,"_vdp_scroll"
                           A  4679    	XREF _getsysvar_scrchar:ROM
                           A  4680    	XREF _getsysvar_cursorY:ROM
                           A  4681    	XREF _getsysvar_cursorX:ROM
                           A  4682    	XREF _putch:ROM
                           A  4683    	XREF __imuls:ROM
                           A  4684    	XREF __ior:ROM
                           A  4685    	XREF __lshru:ROM
                           A  4686    	XREF __stoiu:ROM
                           A  4687    	XREF __setflag:ROM
                           A  4688    	XREF __icmpzero:ROM
                           A  4689    	XREF __ishru_b:ROM
                           A  4690    	XREF __ishrs_b:ROM
                           A  4691    	XDEF _vdp_scroll
                           A  4692    	XDEF _vdp_cursorEnable
                           A  4693    	XDEF _vdp_cursorDisable
                           A  4694    	XDEF _vdp_setpagedMode
                           A  4695    	XDEF _vdp_asciiCodeAt
                           A  4696    	XDEF _vdp_cursorGetYpos
                           A  4697    	XDEF _vdp_cursorGetXpos
                           A  4698    	XDEF _vdp_spriteRefresh
                           A  4699    	XDEF _vdp_spriteActivateTotal
                           A  4700    	XDEF _vdp_spriteMoveBy
                           A  4701    	XDEF _vdp_spriteMoveBySelected
                           A  4702    	XDEF _vdp_spriteMoveTo
                           A  4703    	XDEF _vdp_spriteMoveToSelected
                           A  4704    	XDEF _vdp_spriteHide
                           A  4705    	XDEF _vdp_spriteHideSelected
                           A  4706    	XDEF _vdp_spriteShow
                           A  4707    	XDEF _vdp_spriteShowSelected
                           A  4708    	XDEF _vdp_spriteSetFrame
                           A  4709    	XDEF _vdp_spriteSetFrameSelected
                           A  4710    	XDEF _vdp_spritePreviousFrame
                           A  4711    	XDEF _vdp_spritePreviousFrameSelected
                           A  4712    	XDEF _vdp_spriteNextFrame
                           A  4713    	XDEF _vdp_spriteNextFrameSelected
                           A  4714    	XDEF _vdp_spriteAddFrame
                           A  4715    	XDEF _vdp_spriteAddFrameSelected
                           A  4716    	XDEF _vdp_spriteClearFrames
                           A  4717    	XDEF _vdp_spriteClearFramesSelected
                           A  4718    	XDEF _vdp_spriteSelect
                           A  4719    	XDEF _vdp_bitmapCreateSolidColor
                           A  4720    	XDEF _vdp_bitmapCreateSolidColorSelected
                           A  4721    	XDEF _vdp_bitmapDraw
                           A  4722    	XDEF _vdp_bitmapDrawSelected
                           A  4723    	XDEF _vdp_bitmapSendData
                           A  4724    	XDEF _vdp_bitmapSendDataSelected
                           A  4725    	XDEF _vdp_bitmapSelect
                           A  4726    	XDEF _vdp_plotSetOrigin
                           A  4727    	XDEF _vdp_plotCircleCircumference
                           A  4728    	XDEF _vdp_plotCircleRadius
                           A  4729    	XDEF _vdp_plotTriangle
                           A  4730    	XDEF _vdp_plotPoint
                           A  4731    	XDEF _vdp_plotLineTo
                           A  4732    	XDEF _vdp_plotMoveTo
                           A  4733    	XDEF _vdp_plot
                           A  4734    	XDEF _vdp_plotColour
                           A  4735    	XDEF _vdp_clearGraphics
                           A  4736    	XDEF _vdp_bgcolour
                           A  4737    	XDEF _vdp_fgcolour
                           A  4738    	XDEF _vdp_cursorGoto
                           A  4739    	XDEF _vdp_cursorUp
                           A  4740    	XDEF _vdp_cursorHome
                           A  4741    	XDEF _vdp_cls
                           A  4742    	XDEF _vdp_setPaletteColor
                           A  4743    	XDEF _vdp_getMode
                           A  4744    	XDEF _vdp_mode
                           A  4745    	XDEF _write32bit
                           A  4746    	XDEF _write16bit
                           A  4747    	END


Errors: 0
Warnings: 0
Lines Assembled: 4748
